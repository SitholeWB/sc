(this["webpackJsonpstudents-community-web"]=this["webpackJsonpstudents-community-web"]||[]).push([[0],{124:function(e,t,n){e.exports=n(144)},129:function(e,t,n){},130:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),s=n.n(o),i=(n(129),n(9)),c=n(7),l=n(10),u=n(11),d=n(12),p=(n(130),n(41)),h=n(190),m=n(191),f=n(61),E=n.n(f),y=n(59),b=n.n(y),g=n(72),v=n.n(g),k=n(108),O=n.n(k),C=n(24),S=n(4),R=n(145),T=n(173),j=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return!1===this.props.period.isEmptySlot||"false"===this.props.period.isEmptySlot?r.a.createElement(T.a,{item:!0,xs:2,style:{backgroundColor:this.props.bColor}},r.a.createElement(R.a,{onClick:function(){e.props.history.push("/PeriodDetails",{period:e.props.period})},className:t.paper,style:{height:"100%",width:"100%",whiteSpace:"unset",backgroundColor:this.props.period.color.backgroungColor}},r.a.createElement("span",{style:{fontWeight:"bold"}}," ",this.props.period.courseCode),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:7}}," ",this.props.period.venueName))):r.a.createElement(T.a,{item:!0,xs:2,style:{height:"100%",width:"100%",backgroundColor:this.props.bColor}},r.a.createElement(R.a,{className:t.paper,style:{height:"100%",width:"100%",backgroundColor:this.props.bColor}}))}}]),t}(a.Component),P=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10}}}))(Object(p.e)(j)),x=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(T.a,{item:!0,xs:2,style:{height:"100%",width:"100%"}},r.a.createElement(R.a,{className:e.paper,style:{height:"100%",width:"100%"}},r.a.createElement("span",{style:{fontWeight:"bold"}},this.props.startTime.hour,":",this.props.startTime.minutes),r.a.createElement("br",null),"To",r.a.createElement("br",null),r.a.createElement("span",{style:{fontWeight:"bold"}},this.props.endTime.hour,":",this.props.endTime.minutes)))}}]),t}(a.Component),I=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10}}}))(x),w=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(T.a,{item:!0,xs:2,style:{height:"100%",width:"100%"}},r.a.createElement(R.a,{className:e.paper,style:{height:"100%",width:"100%"}},r.a.createElement("span",{style:{fontWeight:"bold"}},this.props.day)))}}]),t}(a.Component),_=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10,backgroundColor:"#9fd1d1"}}}))(w),A=n(16),N="http://sitholewb.co.za/CoursesAPI/api/",M="http://sitholewb.co.za/PostsAPI/api/",F=function(e){return{type:"RECEIVE_MODULES",data:e}},D=function(e){return{type:"RECEIVE_CALENDER",data:e}},L=function(e){return{type:"SET_UNIVERSITY",university:e}};function B(e){var t=N+"Universities/"+e;return function(e){return e({type:"SEARCH_MODULES"}),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e(L(t))})).catch((function(t){e(L({id:"0000-0000-000000000000",name:"Your Institution",adsDetails:{bannerAd:"ca-app-pub-5631714136940575/3298705317",nativeAdvancedAd:"ca-app-pub-5631714136940575/4838053665"}}))}))}}function U(e){return function(t,n){if("0000-0000-000000000000"===e.universityId)return t(D([]));if(!0===n().calenderReducer.mustRefreshCalender)return t(function(e){var t=N+"Timetable/universities/"+e.universityId+"/slots";return function(n){var a;return n({type:"REQUEST_CALENDER",data:a}),fetch(t,{method:"POST",body:JSON.stringify(e.coursesIds),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n(D(e))})).catch((function(e){n({type:"REQUEST_CALENDER",error:e})}))}}(e));t({type:"GET_CALENDER"});var a=n().calenderReducer.timetable;return t(D(a))}}var G=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=0,a="#f1f1f1",o=this.props.timetable.map((function(e){return n++,a=n%2===0?"#e0ebeb":"#f1f1f1",r.a.createElement(T.a,{key:e.periodSlotId,container:!0,item:!0,xs:12,spacing:1,style:{backgroundColor:a}},r.a.createElement(I,{key:"times_"+e.periodSlotId,bColor:a,startTime:e.startTime,endTime:e.endTime}),r.a.createElement(P,{key:"monday_"+e.periodSlotId,bColor:a,period:e.monday}),r.a.createElement(P,{key:"tuesday_"+e.periodSlotId,bColor:a,period:e.tuesday}),r.a.createElement(P,{key:"wednesday_"+e.periodSlotId,bColor:a,period:e.wednesday}),r.a.createElement(P,{key:"thursday_"+e.periodSlotId,bColor:a,period:e.thursday}),r.a.createElement(P,{key:"friday_"+e.periodSlotId,bColor:a,period:e.friday}))}));return r.a.createElement("div",{className:t.root},r.a.createElement("div",null,r.a.createElement("span",{style:{color:"red",fontWeight:"bold",fontSize:11}},"NOTE: "),r.a.createElement("span",{style:{color:"red",fontSize:11}},"It your responsibility to confirm/validate timetable below!")),r.a.createElement("br",null),r.a.createElement(T.a,{container:!0,spacing:1},r.a.createElement(T.a,{key:"row_days",container:!0,item:!0,xs:12,spacing:1,style:{backgroundColor:a}},r.a.createElement(T.a,{item:!0,xs:2,style:{height:"100%",width:"100%",minHeight:30}},r.a.createElement(R.a,{className:t.paper,style:{height:"100%",width:"100%",backgroundColor:"green",borderRadius:20},onClick:function(){e.addModule()}},r.a.createElement("span",{style:{fontWeight:"bold"}},"Add Module"))),r.a.createElement(_,{key:"monday_",bColor:a,day:"Mon"}),r.a.createElement(_,{key:"tuesday_",bColor:a,day:"Tue"}),r.a.createElement(_,{key:"wednesday_",bColor:a,day:"Wed"}),r.a.createElement(_,{key:"thursday_",bColor:a,day:"Thur"}),r.a.createElement(_,{key:"friday_",bColor:a,day:"Fri"})),o))}},{key:"addModule",value:function(){null===this.props.university||void 0===this.props.university||void 0===this.props.university.id||""===this.props.university.id||"0000-0000-000000000000"===this.props.university.id?this.props.history.push("/University"):!0===this.props.university.timetablePerCampus||"true"===this.props.university.timetablePerCampus?this.props.history.push("/Campus/"+this.props.university.id):this.props.history.push("/institutions/"+this.props.university.id+"/type/universities")}},{key:"getOrUpdateTimetable",value:function(){if(null!==this.props.university&&void 0!==this.props.university&&""!==this.props.university.id&&void 0!==this.props.university.id&&"0000-0000-000000000000"!==this.props.university.id){var e=[],t=!0,n=!1,a=void 0;try{for(var r,o=this.props.courses[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;e.push(s.id)}}catch(i){n=!0,a=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}this.props.getCalender({universityId:this.props.university.id,coursesIds:e})}}},{key:"componentDidUpdate",value:function(){this.getOrUpdateTimetable()}},{key:"componentDidMount",value:function(){this.getOrUpdateTimetable()}}]),t}(a.Component),H=Object(A.b)((function(e){return{timetable:e.calenderReducer.timetable,university:e.calenderReducer.university,courses:e.calenderReducer.courses}}),(function(e){return{getCalender:function(t){return e(U(t))}}}))(Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10}}}))(Object(p.e)(G))),V=n(178),z=n(181),W=n(179),K=n(180),J=n(182),Q=n(42),Y=n(177),q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hasConflict:!1,period:{}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.location.state;return r.a.createElement(Y.a,{className:t.root},r.a.createElement(V.a,null,r.a.createElement(W.a,null,r.a.createElement(Q.a,{style:{textAlign:"center"},gutterBottom:!0,variant:"h5",component:"h2"},n.period.courseCode),r.a.createElement(Q.a,{style:{textAlign:"center"},variant:"subtitle1",color:"textSecondary",component:"p"},n.period.courseName),r.a.createElement(K.a,null),r.a.createElement(Q.a,null,r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Q.a,{style:{textAlign:"center"},variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("span",{style:{fontWeight:"bold"}},"Venue: ")," ",n.period.venueName))),r.a.createElement(z.a,null,r.a.createElement(J.a,{size:"small",variant:"contained",onClick:function(){e.props.history.push("/")}},"Back to Timetable"),r.a.createElement(J.a,{size:"small",variant:"contained",onClick:function(){e.goToChat()}},"Open Chatroom"),r.a.createElement(J.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){e.deletePeriod()}},"Delete Period")))}},{key:"updatePeriod",value:function(e){this.props.resolveConflict(e.periodId,e),this.setState({hasConflict:!1})}},{key:"deletePeriod",value:function(){this.props.removePeriod(this.state.period.periodId),this.props.history.push("/")}},{key:"goToChat",value:function(){this.props.history.push("/Posts/"+this.state.period.courseId+"/code/"+this.state.period.courseCode)}},{key:"componentDidMount",value:function(){var e=this.props.location.state;this.setState({hasConflict:e.period.hasConflict,period:e.period})}}]),t}(a.Component),$=Object(A.b)((function(e){return{courses:e.calenderReducer.courses,university:e.calenderReducer.university}}),(function(e){return{resolveConflict:function(t,n){return e(function(e,t){return{type:"RESOLVE_CONFLICT",periodId:e,course:t}}(t,n))},removePeriod:function(t){return e(function(e){return{type:"REMOVE_PERIOD",periodId:e}}(t))}}}))(Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10}}}))(Object(p.e)(q))),X=n(188),Z=n(184),ee=n(186),te=n(185),ne=n(187),ae=n(67),re=n.n(ae);function oe(){return function(e,t){var n=t().calenderReducer.university;if(null===n||void 0===n||void 0===n.id||""===n.id||"0000-0000-000000000000"===n.id)return e((function(e){return e({type:"GET_UNIVERSITIES"}),fetch("http://sitholewb.co.za/CoursesAPI/api/universities",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"RECEIVE_UNIVERSITIES",data:t})})).catch((function(t){e({type:"ERROR_GETTING_UNIVERSITIES",error:t})}))}))}}var se=n(183),ie=function(e){var t=100;return void 0!==e.size&&(t=e.size),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(se.a,{disableShrink:!0,size:t}))},ce=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.universities.map((function(n){return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(Z.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.goToCampusesOrModules(n)}},r.a.createElement(te.a,{id:"text_"+n.id,primary:n.name}),r.a.createElement(ee.a,null,r.a.createElement(ne.a,{edge:"end","aria-label":"comments"},r.a.createElement(re.a,null)))),r.a.createElement(K.a,null))}));return!0===this.props.isFetching||"true"===this.props.isFetching?r.a.createElement(ie,null):r.a.createElement(X.a,{className:t.root},r.a.createElement("span",null,"Click your institution below."),r.a.createElement("br",null),r.a.createElement(K.a,null),r.a.createElement("br",null),n)}},{key:"goToCampusesOrModules",value:function(e){L(e),!0===e.timetablePerCampus||"true"===e.timetablePerCampus?this.props.history.push("/Campus/"+e.id):this.props.history.push("/institutions/"+e.id+"/type/universities")}},{key:"componentDidMount",value:function(){this.props.fetchUniversities()}}]),t}(a.Component),le=Object(A.b)((function(e){return{universities:e.universitiesReducer.universities,isFetching:e.universitiesReducer.isFetching,error:e.universitiesReducer.error}}),(function(e){return{fetchUniversities:function(){return e(oe())},updateUniversity:function(t){return e(L(t))}}}))(Object(S.a)((function(e){return{root:{width:"100%"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(Object(p.e)(ce)));var ue=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.campuses.map((function(n){return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(Z.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.goToModules(n)}},r.a.createElement(te.a,{id:"text_"+n.id,primary:n.name}),r.a.createElement(ee.a,null,r.a.createElement(ne.a,{edge:"end","aria-label":"comments"},r.a.createElement(re.a,null)))),r.a.createElement(K.a,null))}));return!0===this.props.isFetching||"true"===this.props.isFetching?r.a.createElement(ie,null):r.a.createElement(X.a,null,r.a.createElement(K.a,null),r.a.createElement("span",null,"Click your campus below."),r.a.createElement(K.a,null),n)}},{key:"goToModules",value:function(e){this.props.history.push("/institutions/"+e.id+"/type/campuses")}},{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.fetchCampuses(e.id)}}]),t}(a.Component),de=Object(A.b)((function(e){return{campuses:e.campusesReducer.campuses,isFetching:e.campusesReducer.isFetching,error:e.campusesReducer.error}}),(function(e){return{fetchCampuses:function(t){return e(function(e){var t=N+"Campuses/universities/"+e;return function(e){return e({type:"GET_CAMPUSES"}),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"RECEIVE_CAMPUSES",data:t})})).catch((function(t){e({type:"ERROR_GETTING_CAMPUSES",error:t})}))}}(t))}}}))(Object(S.a)((function(e){return{root:{width:"100%"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(ue)),pe=n(18),he=n(192),me=n(194),fe=n(51),Ee=n.n(fe),ye=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={searchText:"",doneSearching:!0,hasPressedSearch:!1,searchResultsView:[],courses:[],showSnackbar:!1,snackbarText:""},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;if(!0!==this.props.isSearching&&"true"!==this.props.isSearching||!1!==this.state.doneSearching){var t=this.props.classes,n=this.props.searchResults.map((function(n){return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(Z.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.goToModules(n)}},r.a.createElement(te.a,{id:"text_"+n.id,primary:n.code,secondary:n.name}),r.a.createElement(ee.a,null,e.getActionButton(n,e.props.courses))),r.a.createElement(K.a,null))})),a=this.props.courses.map((function(n){return r.a.createElement("span",{key:"view_span_"+n.id},r.a.createElement(Z.a,{className:t.listItem,key:"view_"+n.id,dense:!0,button:!0,onClick:function(){e.goToModules(n)}},r.a.createElement(te.a,{id:"view_text_"+n.id,primary:n.code,secondary:n.name}),r.a.createElement(ee.a,null,e.getActionButton(n,e.props.courses))),r.a.createElement(K.a,null))}));return r.a.createElement("div",null,r.a.createElement(me.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:"course_snackbar",open:this.state.showSnackbar,onClose:function(){e.handleClose()},message:this.state.snackbarText,autoHideDuration:3e3,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{color:"secondary",size:"small",onClick:function(){e.handleClose()}},"DISMISS"),r.a.createElement(ne.a,{"aria-label":"close",color:"inherit",onClick:function(){e.handleClose()}},r.a.createElement(Ee.a,null)))}),!0===this.state.hasPressedSearch&&this.state.searchText.length<4&&r.a.createElement("span",{style:{color:"red"}},"Enter 4 or more characters "),r.a.createElement(he.a,{id:"standard-full-width",label:"Search Module",style:{margin:8},placeholder:"Search Module by Name or Code... e.g MATH130",fullWidth:!0,margin:"normal",onChange:function(t){return e.onChangeSearchText(t)},value:this.state.searchText,InputLabelProps:{shrink:!0}}),r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){return e.searchModule()}},"Search"),r.a.createElement(K.a,null),!0===this.state.hasPressedSearch&&this.state.searchText.length>=4&&r.a.createElement("span",null,"Total courses is ",this.props.searchResults.length),!(!0===this.state.hasPressedSearch&&this.state.searchText.length>=4)&&r.a.createElement("div",null,r.a.createElement(K.a,null),r.a.createElement(X.a,null,a)),!0===this.state.hasPressedSearch&&this.state.searchText.length>=4&&r.a.createElement("div",null,r.a.createElement(K.a,null),r.a.createElement(X.a,null,n)))}return r.a.createElement(ie,null)}},{key:"showSnackbar",value:function(e){this.setState({showSnackbar:!0,snackbarText:e})}},{key:"handleClose",value:function(){this.setState({showSnackbar:!1,snackbarText:""})}},{key:"onChangeSearchText",value:function(e){this.setState({hasPressedSearch:!1,searchText:e.target.value})}},{key:"searchModule",value:function(){var e=this,t=this.props.match.params;this.setState({hasPressedSearch:!0}),this.state.searchText.length>=4&&(this.setState({doneSearching:!1}),this.props.searchModules(t.id,this.state.searchText,t.routeType).then((function(){e.setState({hasPressedSearch:!0,doneSearching:!0})})))}},{key:"getActionButton",value:function(e,t){var n=this;return!1===this.courseExists(e.id,t)?r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){return n.addCourse(e)}},"Add"):r.a.createElement(J.a,{variant:"contained",color:"secondary",onClick:function(){return n.removeCourse(e.id)}},"Remove")}},{key:"addCourse",value:function(e){this.props.addModule(e);var t=[].concat(Object(pe.a)(this.state.courses),[e]);this.setState({courses:t}),this.props.fetchAndSetUniversity(e.universityId),this.showSnackbar("Module added successfully.")}},{key:"removeCourse",value:function(e){this.props.removeModule(e);var t=[],n=!0,a=!1,r=void 0;try{for(var o,s=this.state.courses[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var i=o.value;i.id!==e&&t.push(i)}}catch(c){a=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}this.setState({courses:t}),this.showSnackbar("Module removed successfully.")}},{key:"courseExists",value:function(e,t){var n=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){if(o.value.id===e)return!0}}catch(i){a=!0,r=i}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return!1}},{key:"componentDidMount",value:function(){this.props.receiveModules([])}}]),t}(a.Component),be=Object(A.b)((function(e){return{searchResults:e.calenderReducer.searchResults,isSearching:e.calenderReducer.isSearching,error:e.calenderReducer.error,hasErrorSearching:e.calenderReducer.hasErrorSearching,courses:e.calenderReducer.courses}}),(function(e){return{searchModules:function(t,n,a){return e(function(e,t,n){var a=N+"Courses/"+n+"/"+e+"/search";return function(e){return e({type:"SEARCH_MODULES"}),fetch(a,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e(F(t))})).catch((function(t){e({type:"ERROR_RECEIVING_MODULES",error:t})}))}}(t,n,a))},receiveModules:function(t){return e(F(t))},addModule:function(t){return e({type:"ADD_MODULE",course:t})},removeModule:function(t){return e({type:"REMOVE_MODULE",courseId:t})},fetchAndSetUniversity:function(t){return e(function(e){return function(t,n){var a=n().calenderReducer.university;return null===a?t(B(e)):a.id!==e&&"0000-0000-000000000000"!==e?t(B(e)):void 0}}(t))}}}))(Object(S.a)((function(e){return{root:{width:"100%"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(ye)),ge=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.courses.map((function(n){return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(Z.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.openPosts(n.id,n.code)}},r.a.createElement(te.a,{id:"text_"+n.id,primary:n.code,secondary:n.name}),r.a.createElement(ee.a,null,r.a.createElement(ne.a,{edge:"end","aria-label":"comments"},r.a.createElement(E.a,null)))),r.a.createElement(K.a,null))}));return r.a.createElement("div",null,r.a.createElement(J.a,{size:"small",variant:"contained",color:"primary",onClick:function(){e.addModule()}},"Add or Remove module"),r.a.createElement(K.a,null),r.a.createElement("span",null," Total number of modules you doing is ",this.props.courses.length),r.a.createElement(K.a,null),null!==this.props.university&&void 0!==this.props.university&&void 0!==this.props.university.id&&""!==this.props.university.id&&"0000-0000-000000000000"!==this.props.university.id&&r.a.createElement("span",{key:"span_"+this.props.university.id},r.a.createElement(Z.a,{className:t.listItem,key:this.props.university.id,dense:!0,button:!0,onClick:function(){e.openPosts(e.props.university.id,e.props.university.name)}},r.a.createElement(te.a,{id:"text_"+this.props.university.id,primary:this.props.university.name,secondary:"Send message to all students in your institution"}),r.a.createElement(ee.a,null,r.a.createElement(ne.a,{edge:"end","aria-label":"comments"},r.a.createElement(E.a,null)))),r.a.createElement(K.a,null)),r.a.createElement(K.a,null),r.a.createElement(X.a,null,n))}},{key:"openPosts",value:function(e,t){this.props.history.push("/Posts/"+e+"/code/"+t)}},{key:"addModule",value:function(){null===this.props.university||void 0===this.props.university||void 0===this.props.university.id||""===this.props.university.id||"0000-0000-000000000000"===this.props.university.id?this.props.history.push("/University"):!0===this.props.university.timetablePerCampus||"true"===this.props.university.timetablePerCampus?this.props.history.push("/Campus/"+this.props.university.id):this.props.history.push("/institutions/"+this.props.university.id+"/type/universities")}}]),t}(a.Component),ve=Object(A.b)((function(e){return{courses:e.calenderReducer.courses,university:e.calenderReducer.university}}),(function(e){return{getNumberOfUnreadMessages:function(t){return e({type:"GET_UNREAD_MESSAGES_COUNT",courses:t})}}}))(Object(S.a)((function(e){return{root:{width:"100%"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(Object(p.e)(ge))),ke=n(83),Oe=n.n(ke),Ce=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={title:"",body:"",isEdit:!1,actionType:"viewList",noteToView:{}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=new Date(this.state.noteToView.createdDate),a=n.toDateString()+" "+n.toLocaleTimeString(),o=new Date(this.state.noteToView.lastModifiedDate),s=o.toDateString()+" "+o.toLocaleTimeString();if("viewNote"===this.state.actionType)return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(K.a,null),r.a.createElement("span",{className:t.nameHeader}," ",this.state.noteToView.title," "),r.a.createElement("span",{className:t.dates}," ",r.a.createElement("span",{style:{fontWeight:"bold"}},"Created on:"),"  ",a.toString()),r.a.createElement("span",{className:t.dates},"  ",r.a.createElement("span",{style:{fontWeight:"bold"}},"Last modified on:")," ",s.toString()),r.a.createElement(K.a,null),r.a.createElement("span",null," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)),r.a.createElement("span",null,this.state.noteToView.body)),r.a.createElement("span",null," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)),r.a.createElement(K.a,null),r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){e.setState({actionType:"viewList"})}},"Back to Notes"));if("add"===this.state.actionType||"edit"===this.state.actionType)return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20}},"Title"),r.a.createElement(he.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Type note title here...",fullWidth:!0,margin:"normal",onChange:function(t){return e.onChangeTitleText(t)},value:this.state.title,InputLabelProps:{shrink:!0}}),r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20}},"Body"),r.a.createElement(he.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Type your notes here...",fullWidth:!0,multiline:!0,rows:"4",margin:"normal",onChange:function(t){return e.onChangeBodyText(t)},value:this.state.body,InputLabelProps:{shrink:!0}})),r.a.createElement("span",{style:{color:"white"}},"_"),r.a.createElement("div",{className:t.containerActions},r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){e.addOrEditNote()}},"Save Note"),r.a.createElement(J.a,{variant:"contained",onClick:function(){e.setState({actionType:"viewList"})}},"Back to Notes")));var i=this.props.notes.map((function(n){var a=new Date(n.createdDate),o=(a.toDateString(),a.toLocaleTimeString(),new Date(n.lastModifiedDate)),s=o.toDateString()+" "+o.toLocaleTimeString();return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(Z.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.viewNote(n)}},r.a.createElement(te.a,{id:"text_"+n.id,primary:n.title,secondary:"Modified on: "+s}),r.a.createElement(ee.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{edge:"end","aria-label":"edit",onClick:function(){e.addOrEditNote(n,!0)}},r.a.createElement(b.a,null)),r.a.createElement(ne.a,{edge:"end","aria-label":"delete",onClick:function(){e.deleteNote(n.id)}},r.a.createElement(Oe.a,null))))),r.a.createElement(K.a,null),r.a.createElement("br",null))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(K.a,null),r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){e.addOrEditNote({},!1)}},"Add Note")),r.a.createElement(K.a,null),r.a.createElement(X.a,null,i))}},{key:"createGuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},{key:"viewNote",value:function(e){this.setState({noteToView:e,actionType:"viewNote"})}},{key:"addOrEditNote",value:function(e,t){if("viewList"===this.state.actionType)!0===t?this.setState({actionType:"edit",noteToEdit:e,isEdit:!0,title:e.title,body:e.body}):this.setState({actionType:"add",isEdit:!1,title:"",body:""});else if(this.state.title.length<1);else{if(!1===this.state.isEdit){var n={id:this.createGuid(),createdDate:new Date,lastModifiedDate:new Date,title:this.state.title,body:this.state.body};this.props.addNote(n)}else{var a={id:this.state.noteToEdit.id,createdDate:this.state.noteToEdit.createdDate,lastModifiedDate:new Date,title:this.state.title,body:this.state.body};this.props.updateNote(a)}this.setState({actionType:"viewList",isEdit:!1,title:"",body:""})}}},{key:"deleteNote",value:function(e){this.props.removeNote(e)}},{key:"onChangeTitleText",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeBodyText",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidMount",value:function(){}}]),t}(a.Component),Se=Object(A.b)((function(e){return{notes:e.noteReducer.notes}}),(function(e){return{addNote:function(t){return e({type:"ADD_NOTE",data:t})},removeNote:function(t){return e(function(e){return{type:"REMOVE_NOTE",noteId:e}}(t))},updateNote:function(t){return e({type:"UPDATE_NOTE",data:t})}}}))(Object(S.a)((function(e){return{container:{display:"flex",backgroundColor:"white"},containerActions:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",flexDirection:"row"},mainContainer:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",flexDirection:"column",alignItems:"stretch"},nameHeader:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",textAlign:"center",fontWeight:"bold",fontSize:25},dates:{fontSize:12,textAlign:"center"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(Ce)),Re=n(17),Te=n(27),je=n(40),Pe=n.n(je),xe=n(195),Ie=n(189),we=n(196),_e=n(71),Ae=n.n(_e),Ne=n(70),Me=n.n(Ne),Fe=n(69),De=n.n(Fe),Le=n(105),Be=n.n(Le),Ue=n(103),Ge=n.n(Ue),He=n(104),Ve=n.n(He),ze=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.classes,!0===this.props.file.contentType.includes("video")||!0===this.props.file.contentType.includes("audio")),n=!0===this.props.file.contentType.includes("image")||!0===this.props.file.contentType.includes("picture");return!0===n||!0===t?r.a.createElement("div",null,!0===t&&r.a.createElement(Ge.a,{url:"http://sitholewb.co.za/FilesAPI/api/Storage/"+this.props.file.id+"/view",width:"100%",height:"100%",playing:!1,controls:!0}),!0===n&&r.a.createElement("img",{src:"http://sitholewb.co.za/FilesAPI/api/Storage/"+this.props.file.id+"/view",width:"100%",height:"100%"})):r.a.createElement("div",null,r.a.createElement(xe.a,{icon:r.a.createElement(Pe.a,null),label:this.props.file.name,clickable:!0,color:"primary",size:"small",variant:"outlined",onClick:function(){e.openFile()},deleteIcon:r.a.createElement(Ve.a,null)}))}},{key:"openFile",value:function(){this.props.history.push("/file/"+this.props.file.id+"/view")}}]),t}(a.Component),We=Object(S.a)((function(e){return{playerWrapper:{position:"relative",paddingTop:56},reactPlayer:{position:"absolute",top:0,left:0}}}))(Object(p.e)(ze));function Ke(e){var t=M+"Comments/Posts/"+e;return function(e){return e({type:"GET_COMMENTS"}),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("Len = "+t.length),e({type:"RECEIVE_COMMENTS",data:t})})).catch((function(t){e({type:"ERROR_RECEIVING_COMMENTS",error:t})}))}}var Je=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hasConflict:!1,post:{},showSnackbar:!1,snackbarText:"",totalLikes:0},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=new Date(this.props.comment.addedDate),a=n.toDateString()+" "+n.toLocaleTimeString();return r.a.createElement("div",null,r.a.createElement(me.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:"course_snackbar",open:this.state.showSnackbar,onClose:function(){e.handleClose()},message:this.state.snackbarText,autoHideDuration:3e3,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{color:"secondary",size:"small",onClick:function(){e.handleClose()}},"DISMISS"),r.a.createElement(ne.a,{"aria-label":"close",color:"inherit",onClick:function(){e.handleClose()}},r.a.createElement(Ee.a,null)))}),r.a.createElement(Y.a,{className:t.root},r.a.createElement(Ie.a,{avatar:r.a.createElement(we.a,{"aria-label":"recipe",className:t.avatar},r.a.createElement(De.a,null)),action:r.a.createElement(ne.a,{"aria-label":"settings"},r.a.createElement(Me.a,null)),title:this.getUserFullNames(),subheader:a}),r.a.createElement(K.a,null),r.a.createElement(W.a,null,r.a.createElement(Q.a,{variant:"body2",color:"textSecondary",component:"p"},this.props.comment.body)),r.a.createElement(W.a,null,null!==this.props.comment.files&&this.props.comment.files.length>0&&r.a.createElement(We,{file:this.props.comment.files[0]})),r.a.createElement(z.a,{style:{backgroundColor:"#f9ecf2"},disableSpacing:!0},r.a.createElement(ne.a,{"aria-label":"Like this comment",style:{color:this.state.likeButtonBackgroundColor},onClick:function(){e.handlePostLike()}},r.a.createElement(Ae.a,null)),this.props.comment.likes.length>0&&r.a.createElement(xe.a,{variant:"outlined",size:"small",label:this.props.comment.likes.length+" likes"}))))}},{key:"showSnackbar",value:function(e){this.setState({showSnackbar:!0,snackbarText:e})}},{key:"handleClose",value:function(){this.setState({showSnackbar:!1,snackbarText:""})}},{key:"getUserFullNames",value:function(){return null===this.props.comment.addedBy||"null"===this.props.comment.addedBy||void 0===this.props.comment.addedBy?"Anonymous User":this.props.comment.addedBy.fullnames}},{key:"handlePostLike",value:function(){var e=this;this.props.likeCommentById(this.props.comment.postId,this.props.comment.id,this.props.user).then((function(){"black"===e.state.likeButtonBackgroundColor?e.setState({likeButtonBackgroundColor:"green",totalLikes:e.state.totalLikes+1}):e.setState({likeButtonBackgroundColor:"black",totalLikes:e.state.totalLikes-1})}))}},{key:"existOnLikes",value:function(){for(var e=!1,t=this.props.comment.likes,n=0;n<t.length;n++)t[n].userId===this.props.user.userId&&(e=!0);return e}},{key:"sentComment",value:function(){var e=this;this.state.commentText.length<1?this.showSnackbar("Input must be at least 1 letter"):(this.setState({addPostPending:!0}),!1===this.state.fileIsAttached?this.props.AddComment(this.props.comment.id,{body:this.state.commentText,addedBy:this.props.user}).then((function(){e.setState({addPostPending:!1,commentText:"",showAddComment:!1,showComments:!0,totalComments:e.state.totalComments+1})})):this.props.uploadFileToStorage(this.state.documentObject).then((function(){e.props.AddComment(e.props.comment.id,{body:e.state.commentText,addedBy:e.props.user,files:[e.props.uploadResponse]}).then((function(){e.setState({commentText:"",fileIsAttached:!1,fileName:"",addPostPending:!1,showAddComment:!1,showComments:!0,totalComments:e.state.totalComments+1})}))})))}},{key:"componentDidMount",value:function(){var e="black";this.existOnLikes()&&(e="green"),this.setState({likeButtonBackgroundColor:e})}}]),t}(a.Component),Qe=Object(A.b)((function(e){return{user:e.userReducer.user}}),(function(e){return{likeCommentById:function(t,n,a){return e(function(e,t,n){var a=M+"Comments/likes/"+t+"/posts/"+e;return function(e){return e({type:"LIKE_COMMENT"}),fetch(a,{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"LIKE_COMMENT_RESPONSE"})})).catch((function(t){e({type:"ERROR_LIKING_COMMENT",error:t})}))}}(t,n,a))}}}))(Object(S.a)((function(e){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"green"}}}))(Je)),Ye=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!0===this.props.isFetchingComments)return r.a.createElement(ie,null);var e=this.props.comments.map((function(e){return r.a.createElement(Qe,{comment:e})}));return r.a.createElement("div",null,e)}},{key:"componentDidMount",value:function(){this.props.fetchComments(this.props.postId)}}]),t}(a.Component),qe=Object(A.b)((function(e){return{comments:e.commentReducer.comments,isFetchingComments:e.commentReducer.isFetchingComments}}),(function(e){return{fetchComments:function(t){return e(Ke(t))}}}))(Object(S.a)((function(e){return{container:{margin:1,display:"flex",flexWrap:"nowrap"}}}))(Ye)),$e=function(e){return{type:"ADD_BOOKMARK",post:e}},Xe=function(e){return{type:"REMOVE_BOOKMARK",postId:e}};function Ze(e){var t=new FormData;return t.append("file",e),function(e){return e({type:"UPLOAD_FILE"}),fetch("http://sitholewb.co.za/FilesAPI/api/Storage",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){e(function(e){return{type:"UPLOAD_FILE_RESPONSE",data:e}}(t))})).catch((function(t){e(function(e){return{type:"ERROR_UPLOADING_FILE",error:e}}(t))}))}}var et=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).fileUpload=r.a.createRef(),n.showFileUpload=n.showFileUpload.bind(Object(Te.a)(n)),n.onFileChange=n.onFileChange.bind(Object(Te.a)(n)),n.state={hasConflict:!1,post:{},showSnackbar:!1,snackbarText:"",showAddComment:!1,fileIsAttached:!1,fileName:"",documentObject:{}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=new Date(this.props.post.addedDate),a=n.toDateString()+" "+n.toLocaleTimeString();return r.a.createElement("div",{className:t.cardStyle},r.a.createElement(K.a,null),r.a.createElement(me.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:"course_snackbar",open:this.state.showSnackbar,onClose:function(){e.handleClose()},message:this.state.snackbarText,autoHideDuration:3e3,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{color:"secondary",size:"small",onClick:function(){e.handleClose()}},"DISMISS"),r.a.createElement(ne.a,{"aria-label":"close",color:"inherit",onClick:function(){e.handleClose()}},r.a.createElement(Ee.a,null)))}),r.a.createElement(Y.a,{className:t.root},r.a.createElement(Ie.a,{avatar:r.a.createElement(we.a,{"aria-label":"recipe",className:t.avatar},r.a.createElement(De.a,null)),action:r.a.createElement(ne.a,{"aria-label":"settings"},r.a.createElement(Me.a,null)),title:this.getUserFullNames(),subheader:a}),r.a.createElement(K.a,null),r.a.createElement(W.a,null,r.a.createElement(Q.a,{variant:"body2",color:"textSecondary",component:"p"},this.props.post.body)),r.a.createElement(W.a,null,null!==this.props.post.files&&this.props.post.files.length>0&&r.a.createElement(We,{file:this.props.post.files[0]})),r.a.createElement(K.a,null),r.a.createElement(z.a,{style:{backgroundColor:"#f9ecf2"},disableSpacing:!0},r.a.createElement(ne.a,{"aria-label":"Like this post",style:{color:this.state.likeButtonBackgroundColor},onClick:function(){e.handlePostLike()}},r.a.createElement(Ae.a,null)),r.a.createElement(ne.a,{"aria-label":"Add Comment",style:{color:"black"},onClick:function(){e.toggleShowAddComment()}},r.a.createElement(Be.a,null)),r.a.createElement(ne.a,{edge:"end","aria-label":"Add to bookmark",onClick:function(){e.handleBookmarkClick()}},r.a.createElement(v.a,{style:{color:this.state.bookmarkButtonBackgroundColor}})),r.a.createElement("span",{style:{color:"#f9ecf2"}},"__"),this.props.post.totalComments>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{variant:"outlined",color:"primary",size:"small",label:this.props.post.totalComments+" comments",clickable:!0,onClick:function(){e.toggleComments()}}),r.a.createElement("span",{style:{color:"#f9ecf2"}},"_")),this.props.post.likes.length>0&&r.a.createElement(xe.a,{variant:"outlined",size:"small",label:this.props.post.likes.length+" likes"}))),r.a.createElement("div",null,!0===this.state.showAddComment&&r.a.createElement("div",null,r.a.createElement(he.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Add your comment...",fullWidth:!0,multiline:!0,rows:"4",margin:"normal",onChange:function(t){return e.onChangeText(t)},value:this.state.postText,InputLabelProps:{shrink:!0}}),!1===this.state.fileIsAttached&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{style:{display:"none"},id:"postFileId",type:"file",ref:this.fileUpload,onChange:this.onFileChange})),r.a.createElement("div",null,r.a.createElement(xe.a,{icon:r.a.createElement(Pe.a,null),label:"attach file(image/pdf/video/etc)",clickable:!0,color:"primary",size:"small",variant:"outlined",onClick:function(){e.showFileUpload()}}))),!0===this.state.fileIsAttached&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{icon:r.a.createElement(Pe.a,null),label:this.state.fileName,onDelete:function(){e.removeFile()},color:"secondary",variant:"outlined"}),r.a.createElement("span",null,r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement("span",null,r.a.createElement("br",null)),r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){e.sentComment()}},"Add Comment")),r.a.createElement("br",null)),!0===this.state.addPostPending&&r.a.createElement("div",null,r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"Adding your comment..."),r.a.createElement(ie,null))),!0===this.state.showComments&&r.a.createElement("div",{className:t.containerComments},r.a.createElement("span",{style:{width:"20%"}}),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(qe,{postId:this.props.post.id}))))}},{key:"onFileChange",value:function(e){this.setState({fileIsAttached:!0,fileName:e.target.files[0].name,documentObject:e.target.files[0]})}},{key:"showFileUpload",value:function(){this.fileUpload.current.click()}},{key:"toggleShowAddComment",value:function(){this.setState({showAddComment:!this.state.showAddComment})}},{key:"showSnackbar",value:function(e){this.setState({showSnackbar:!0,snackbarText:e})}},{key:"handleClose",value:function(){this.setState({showSnackbar:!1,snackbarText:""})}},{key:"removeFile",value:function(){this.setState({fileIsAttached:!1,fileName:""})}},{key:"getUserFullNames",value:function(){return null===this.props.post.addedBy||"null"===this.props.post.addedBy||void 0===this.props.post.addedBy?"Anonymous User":this.props.post.addedBy.fullnames}},{key:"handlePostLike",value:function(){var e=this;this.props.likePostById(this.props.post.id,this.props.user).then((function(){"black"===e.state.likeButtonBackgroundColor?e.setState({likeButtonBackgroundColor:"green",totalLikes:e.state.totalLikes+1}):e.setState({likeButtonBackgroundColor:"black",totalLikes:e.state.totalLikes-1})}))}},{key:"handleBookmarkClick",value:function(){!0===this.existOnBookmarks()?(this.setState({bookmarkButtonBackgroundColor:"black"}),this.props.removeBookmark(this.props.post.id)):(this.setState({bookmarkButtonBackgroundColor:"green"}),this.props.addBookmark(this.props.post))}},{key:"existOnBookmarks",value:function(){for(var e=!1,t=this.props.bookmarkedPosts,n=0;n<t.length;n++)t[n].id===this.props.post.id&&(e=!0);return e}},{key:"existOnLikes",value:function(){for(var e=!1,t=this.props.post.likes,n=0;n<t.length;n++)t[n].userId===this.props.user.userId&&(e=!0);return e}},{key:"sentComment",value:function(){var e=this;this.state.commentText.length<1?this.showSnackbar("Input must be at least 1 letter"):(this.setState({addPostPending:!0}),!1===this.state.fileIsAttached?this.props.AddComment(this.props.post.id,{body:this.state.commentText,addedBy:this.props.user}).then((function(){e.setState({addPostPending:!1,commentText:"",showAddComment:!1,showComments:!0,totalComments:e.state.totalComments+1})})):this.props.uploadFileToStorage(this.state.documentObject).then((function(){e.props.AddComment(e.props.post.id,{body:e.state.commentText,addedBy:e.props.user,files:[e.props.uploadResponse]}).then((function(){e.setState({commentText:"",fileIsAttached:!1,fileName:"",addPostPending:!1,showAddComment:!1,showComments:!0,totalComments:e.state.totalComments+1})}))})))}},{key:"onChangeText",value:function(e){this.setState({commentText:e.target.value})}},{key:"toggleComments",value:function(){this.setState({showComments:!this.state.showComments})}},{key:"componentDidMount",value:function(){var e="black",t="black";this.existOnLikes()&&(e="green"),!0===this.existOnBookmarks()&&(t="green"),this.setState({bookmarkButtonBackgroundColor:t,likeButtonBackgroundColor:e})}}]),t}(a.Component),tt=Object(A.b)((function(e){return{isFetchingComments:e.commentReducer.isFetchingComments,bookmarkedPosts:e.bookmarkReducer.bookmarkedPosts,user:e.userReducer.user,uploadResponse:e.uploadReducer.response,percent:e.uploadReducer.percent,isUploadingFile:e.uploadReducer.isFetching}}),(function(e){return{fetchComments:function(t){return e(Ke(t))},AddComment:function(t,n){return e(function(e,t){var n=M+"Comments/Posts/"+e;return function(e){return e({type:"POST_COMMENT"}),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"POST_COMMENT_RESPONSE",data:t})})).catch((function(t){e({type:"ERROR_POSTING_COMMENT",error:t})}))}}(t,n))},addBookmark:function(t){return e($e(t))},removeBookmark:function(t){return e(Xe(t))},removeAllBookmark:function(){return e({type:"REMOVE_ALL_BOOKMARK"})},likePostById:function(t,n){return e(function(e,t){var n=M+"Posts/likes/"+e;return function(e){return e({type:"LIKE_POST"}),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"LIKE_POST_RESPONSE",data:t})})).catch((function(t){e({type:"ERROR_LIKING_POST",error:t})}))}}(t,n))},uploadFileToStorage:function(t){return e(Ze(t))}}}))(Object(S.a)((function(e){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"green"},containerComments:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",flexDirection:"row"},cardStyle:{borderRadius:10}}}))(et)),nt=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).fileUpload=r.a.createRef(),n.showFileUpload=n.showFileUpload.bind(Object(Te.a)(n)),n.onFileChange=n.onFileChange.bind(Object(Te.a)(n)),n.state={postText:"",fileIsAttached:!1,fileName:"",documentObject:{},addPostPending:!1,noMorePosts:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;this.props.classes;if(!0===this.props.isFetchingPosts&&0===this.props.posts.length)return r.a.createElement(ie,null);var t=this.props.posts.map((function(e){return r.a.createElement(tt,{key:"card_"+e.id,post:e})})),n=this.props.match.params;return r.a.createElement(a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20,backgroundColor:"#f9ecf2"}},n.code,"."),r.a.createElement(K.a,null),r.a.createElement("br",null),r.a.createElement("div",null,!1===this.state.addPostPending&&r.a.createElement("div",null,r.a.createElement(he.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Add your post...",fullWidth:!0,multiline:!0,rows:"4",margin:"normal",onChange:function(t){return e.onChangeText(t)},value:this.state.postText,InputLabelProps:{shrink:!0}}),!1===this.state.fileIsAttached&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{style:{display:"none"},id:"postFileId",type:"file",ref:this.fileUpload,onChange:this.onFileChange})),r.a.createElement("div",null,r.a.createElement(xe.a,{icon:r.a.createElement(Pe.a,null),label:"attach file(image/pdf/video/etc)",clickable:!0,color:"primary",size:"small",variant:"outlined",onClick:function(){e.showFileUpload()}}))),!0===this.state.fileIsAttached&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{icon:r.a.createElement(Pe.a,null),label:this.state.fileName,onDelete:function(){e.removeFile()},color:"secondary",variant:"outlined"}),r.a.createElement("span",null,r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement("span",null,r.a.createElement("br",null)),r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){e.sendPost()}},"Add Post")),r.a.createElement("br",null)),!0===this.state.addPostPending&&r.a.createElement("div",null,r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"Adding your post..."),r.a.createElement(ie,null),!0===this.state.fileIsAttached&&r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"Attachment upload progress ",this.props.percent,"%...")),r.a.createElement(K.a,null),r.a.createElement("div",null,r.a.createElement(X.a,null,t),!0===this.props.isFetchingPosts&&this.props.posts.length>0&&r.a.createElement(ie,null),r.a.createElement("br",null),!1===this.state.noMorePosts&&r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){e.loadMorePosts()}},"LOAD MORE POSTS..."),!0===this.state.noMorePosts&&r.a.createElement("span",null,"No more posts to show."),r.a.createElement("br",null))))}},{key:"onFileChange",value:function(e){this.setState({fileIsAttached:!0,fileName:e.target.files[0].name,documentObject:e.target.files[0]})}},{key:"showFileUpload",value:function(){this.fileUpload.current.click()}},{key:"removeFile",value:function(){this.setState({fileIsAttached:!1,fileName:""})}},{key:"onChangeText",value:function(e){this.setState({postText:e.target.value})}},{key:"sendPost",value:function(){var e=this;if(!(this.state.postText.length<1)){var t=this.props.match.params;this.setState({addPostPending:!0}),!1===this.state.fileIsAttached?this.props.sendPost(t.id,{body:this.state.postText,addedBy:this.props.user}).then((function(){e.setState({postText:""}),e.setState({addPostPending:!1})})):this.props.uploadFileToStorage(this.state.documentObject).then((function(){e.props.sendPost(t.id,{body:e.state.postText,addedBy:e.props.user,files:[e.props.uploadResponse]}).then((function(){e.setState({postText:"",fileIsAttached:!1,fileName:"",addPostPending:!1})}))}))}}},{key:"loadMorePosts",value:function(){if(50===this.props.posts.length){var e=this.props.match.params,t={beforeDate:this.props.posts[49].addedDate,categoryId:e.id,lastN:50};this.props.fetchGetPosts(e.id,t)}else this.setState({noMorePosts:!0})}},{key:"componentDidMount",value:function(){var e=this.props.match.params,t={beforeDate:null,categoryId:e.id,lastN:50};this.props.resetPosts(),this.props.fetchGetPosts(e.id,t)}}]),t}(a.Component),at=Object(A.b)((function(e){return{posts:e.postReducer.posts,isFetchingPosts:e.postReducer.isFetchingPosts,addPostPending:e.postReducer.addPostPending,user:e.userReducer.user,uploadResponse:e.uploadReducer.response,percent:e.uploadReducer.percent,isUploadingFile:e.uploadReducer.isFetching}}),(function(e){return{fetchGetPosts:function(t,n){return e(function(e,t){var n=M+"Posts/"+e+"/query";return function(a){return a(function(e){return{type:"GET_POSTS",categoryId:e}}(e)),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a({type:"RECEIVE_POSTS",data:e})})).catch((function(e){a({type:"ERROR_RECEIVING_POSTS",error:e})}))}}(t,n))},sendPost:function(t,n){return e(function(e,t){var n=M+"Posts/"+e;return function(e){return e({type:"ADD_POST"}),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"ADD_POST_RESPONSE",data:t})})).catch((function(t){e({type:"ERROR_ADDING_POST",error:t})}))}}(t,n))},addUpdateUser:function(t){return e(function(e){return{type:"ADD_UPDATE_USER",user:e}}(t))},uploadFileToStorage:function(t){return e(Ze(t))},resetPosts:function(t){return e({type:"RESET_POSTS"})}}}))(Object(S.a)((function(e){var t,n;return{container:{margin:1,display:"flex",flexWrap:"nowrap"},removeFileButton:{fontSize:13,textAlign:"center"},removeFileCustomBtnBG:(t={backgroundColor:"#ffe0b3",borderRadius:3,alignSelf:"flex-start"},Object(Re.a)(t,"borderRadius",10),Object(Re.a)(t,"height",23),t),addModuleButton:{fontSize:13,textAlign:"center"},addModuleCustomBtnBG:(n={backgroundColor:"#ffe0b3",borderRadius:3,alignItems:"center"},Object(Re.a)(n,"borderRadius",10),Object(Re.a)(n,"width",220),Object(Re.a)(n,"alignSelf","flex-end"),Object(Re.a)(n,"height",23),n)}}))(nt)),rt=n(106),ot=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={iFrameHeight:"300px"},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(rt.a,{url:"http://sitholewb.co.za/FilesAPI/api/Storage/"+e.id+"/view",width:"100%",height:this.state.iFrameHeight,id:"myId",display:"block",allowFullScreen:!0,position:"relative"}))}},{key:"componentDidMount",value:function(){try{this.setState({iFrameHeight:window.innerHeight+"px"})}catch(e){this.setState({iFrameHeight:"400px"})}}}]),t}(a.Component),st=Object(S.a)((function(e){return{root:{flexGrow:1}}}))(ot),it=n(107),ct=n.n(it),lt=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={nextStartLoadDate:null},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.bookmarkedPosts.map((function(e){return r.a.createElement("div",{key:"post_view_"+e.id},r.a.createElement(tt,{post:e}))}));return r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20,backgroundColor:"#f9ecf2"}},"Posts you bookmarked."),r.a.createElement(K.a,null),r.a.createElement("br",null),e,r.a.createElement(ct.a.Google,{client:"ca-pub-7292810486004926",slot:"7806394673"}))}},{key:"componentDidMount",value:function(){}}]),t}(a.Component),ut=Object(A.b)((function(e){return{bookmarkedPosts:e.bookmarkReducer.bookmarkedPosts}}),(function(e){return{addBookmark:function(t){return e($e(t))},removeBookmark:function(t){return e(Xe(t))},removeAllBookmark:function(){return e({type:"REMOVE_ALL_BOOKMARK"})}}}))(lt),dt=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={value:0,period:{}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"changeValue",value:function(e){this.setState({value:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(C.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:H}),r.a.createElement(p.a,{exact:!0,path:"/PeriodDetails",component:$}),r.a.createElement(p.a,{exact:!0,path:"/University",component:le}),r.a.createElement(p.a,{path:"/Campus/:id",component:de}),r.a.createElement(p.a,{path:"/institutions/:id/type/:routeType",component:be}),r.a.createElement(p.a,{path:"/Chats",component:ve}),r.a.createElement(p.a,{path:"/Notes",component:Se}),r.a.createElement(p.a,{path:"/Posts/:id/code/:code",component:at}),r.a.createElement(p.a,{path:"/file/:id/view",component:st}),r.a.createElement(p.a,{path:"/Bookmarks",component:ut}),r.a.createElement(h.a,{showLabels:!0,value:this.state.value,style:{width:"100%",position:"fixed",bottom:0}},r.a.createElement(m.a,{component:C.b,to:"/",label:"Timetable",icon:r.a.createElement(O.a,null),onClick:function(){e.changeValue(0)}}),r.a.createElement(m.a,{component:C.b,to:"/Chats",label:"Chats",icon:r.a.createElement(E.a,null),onClick:function(){e.changeValue(1)}}),r.a.createElement(m.a,{component:C.b,to:"/Notes",label:"Notes",icon:r.a.createElement(b.a,null),onClick:function(){e.changeValue(2)}}),r.a.createElement(m.a,{component:C.b,to:"/Bookmarks",label:"Bookmarks",icon:r.a.createElement(v.a,null),onClick:function(){e.changeValue(3)}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=n(32),ht=n(109),mt=n(110),ft=n(87),Et=n(111),yt=n.n(Et),bt=n(6),gt={timetable:[],courses:[],university:{id:"0000-0000-000000000000",name:"Your Institution",adsDetails:{bannerAd:"ca-app-pub-5631714136940575/3298705317",nativeAdvancedAd:"ca-app-pub-5631714136940575/4838053665"}},campusId:"",mustRefreshCalender:!0,error:"",hasHttpError:!1,isFetching:!1,isSearching:!1,hasErrorSearching:!1,searchResults:[]},vt=function(e,t){var n={isEmptySlot:!0},a=new Array;e.forEach((function(e){a.push(e)}));for(var r=0;r<a.length;r++){if(a[r].monday.periodId===t){a[r].monday=n;break}if(a[r].tuesday.periodId===t){a[r].tuesday=n;break}if(a[r].wednesday.periodId===t){a[r].wednesday=n;break}if(a[r].thursday.periodId===t){a[r].thursday=n;break}if(a[r].friday.periodId===t){a[r].friday=n;break}}return a},kt=function(e,t,n){var a=new Array;n.forEach((function(e){a.push(e)}));for(var r=0;r<a.length;r++){if((!0===a[r].monday.hasConflict||"true"===a[r].monday.hasConflict)&&Ot(a[r].monday.conflicts,e)){a[r].monday=t;break}if((!0===a[r].tuesday.hasConflict||"true"===a[r].tuesday.hasConflict)&&Ot(a[r].tuesday.conflicts,e)){a[r].tuesday=t;break}if((!0===a[r].wednesday.hasConflict||"true"===a[r].wednesday.hasConflict)&&Ot(a[r].wednesday.conflicts,e)){a[r].wednesday=t;break}if((!0===a[r].thursday.hasConflict||"true"===a[r].thursday.hasConflict)&&Ot(a[r].thursday.conflicts,e)){a[r].thursday=t;break}if((!0===a[r].friday.hasConflict||"true"===a[r].friday.hasConflict)&&Ot(a[r].friday.conflicts,e)){a[r].friday=t;break}}return a},Ot=function(e,t){var n=!1;return e.forEach((function(e){e.periodId===t&&(n=!0)})),n},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_RECEIVING_MODULES":return Object(bt.a)({},e,{error:t.error,hasErrorSearching:!0,isSearching:!1});case"SEARCH_MODULES":return Object(bt.a)({},e,{error:"",hasErrorSearching:!1,isSearching:!0});case"RECEIVE_MODULES":return Object(bt.a)({},e,{error:"",searchResults:t.data,hasErrorSearching:!1,isSearching:!1});case"REQUEST_CALENDER":return Object(bt.a)({},e,{error:"",mustRefreshCalender:!0,hasHttpError:!1,isFetching:!0});case"GET_CALENDER":return Object(bt.a)({},e,{error:"",searchResults:[],mustRefreshCalender:!1,hasHttpError:!1,isFetching:!0});case"RECEIVE_CALENDER":return Object(bt.a)({},e,{error:"",mustRefreshCalender:!1,timetable:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_REQUESTING_CALENDER":return Object(bt.a)({},e,{mustRefreshCalender:!0,error:t.error,hasHttpError:!0,isFetching:!1});case"ADD_MODULE":return Object(bt.a)({},e,{mustRefreshCalender:!0,courses:[].concat(Object(pe.a)(e.courses),[t.course])});case"GET_UNREAD_MESSAGES_COUNT":return Object(bt.a)({},e);case"SET_UNIVERSITY":return Object(bt.a)({},e,{university:t.university});case"REMOVE_MODULE":return Object(bt.a)({},e,{mustRefreshCalender:!0,courses:e.courses.filter((function(e){return e.id!==t.courseId}))});case"REMOVE_PERIOD":return Object(bt.a)({},e,{mustRefreshCalender:!1,timetable:vt(e.timetable,t.periodId)});case"RESOLVE_CONFLICT":return Object(bt.a)({},e,{mustRefreshCalender:!1,timetable:kt(t.periodId,t.course,e.timetable)});default:return e}};var St={response:"",error:"",isFetching:!1,hasHttpError:!1},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_FEEDBACK":return Object(bt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0});case"POST_FEEDBACK_RESPONSE":return Object(bt.a)({},e,{error:"",response:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_POSTING_FEEDBACK":return Object(bt.a)({},e,{error:t.error,hasHttpError:!0,isFetching:!1});default:return e}},Tt={error:"",isFetching:!1,campuses:[]},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CAMPUSES":return Object(bt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0});case"RECEIVE_CAMPUSES":return Object(bt.a)({},e,{error:"",campuses:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_GETTING_CAMPUSES":return Object(bt.a)({},e,{error:t.error,hasHttpError:!0,isFetching:!1});default:return e}},Pt={error:"",isFetching:!1,universities:[]},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_UNIVERSITIES":return Object(bt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0});case"RECEIVE_UNIVERSITIES":return Object(bt.a)({},e,{error:"",universities:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_GETTING_UNIVERSITIES":return Object(bt.a)({},e,{error:t.error,hasHttpError:!0,isFetching:!1});default:return e}},It={bookmarkedPosts:[]},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOKMARK":return Object(bt.a)({},e,{bookmarkedPosts:[].concat(Object(pe.a)(e.bookmarkedPosts),[t.post])});case"REMOVE_BOOKMARK":return Object(bt.a)({},e,{bookmarkedPosts:e.bookmarkedPosts.filter((function(e){return e.id!==t.postId}))});case"REMOVE_ALL_BOOKMARK":return Object(bt.a)({},e,{bookmarkedPosts:[]});default:return e}},_t={response:"",error:"",isFetching:!1,hasHttpError:!1,percent:0},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_FILE":return Object(bt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0});case"UPLOAD_FILE_PROGRESS":return Object(bt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0,percent:t.percent});case"UPLOAD_FILE_RESPONSE":return Object(bt.a)({},e,{error:"",response:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_UPLOADING_FILE":return Object(bt.a)({},e,{error:t.error,hasHttpError:!0,isFetching:!1});default:return e}},Nt={comments:[],response:"",error:"",isFetchingComments:!1,hasHttpErrorFetchingComments:!1,likeCommentPendingResponse:!1,hasHttpErrorLikingComment:!1,postCommentPending:!1,hasHttpErrorPostingComment:!1},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_COMMENT":return Object(bt.a)({},e,{error:"",hasHttpErrorPostingComment:!1,postCommentPending:!0});case"POST_COMMENT_RESPONSE":return Object(bt.a)({},e,{error:"",response:t.data,hasHttpErrorPostingComment:!1,postCommentPending:!1});case"ERROR_POSTING_COMMENT":return Object(bt.a)({},e,{error:t.error,hasHttpErrorPostingComment:!0,postCommentPending:!1});case"GET_COMMENTS":return Object(bt.a)({},e,{error:"",hasHttpErrorFetchingComments:!1,isFetchingComments:!0});case"RECEIVE_COMMENTS":return Object(bt.a)({},e,{error:"",comments:t.data,hasHttpErrorFetchingComments:!1,isFetchingComments:!1});case"ERROR_RECEIVING_COMMENTS":return Object(bt.a)({},e,{error:t.error,hasHttpErrorFetchingComments:!0,isFetchingComments:!1});case"LIKE_COMMENT":return Object(bt.a)({},e,{error:"",hasHttpErrorLikingComment:!1,likeCommentPendingResponse:!0});case"LIKE_COMMENT_RESPONSE":return Object(bt.a)({},e,{error:"",hasHttpErrorLikingComment:!1,likeCommentPendingResponse:!1});case"ERROR_LIKING_COMMENT":return Object(bt.a)({},e,{error:t.error,hasHttpErrorLikingComment:!0,likeCommentPendingResponse:!1});default:return e}},Ft={posts:[],response:"",error:"",isFetchingPosts:!1,hasHttpErrorFetchingPosts:!1,likePostPendingResponse:!1,hasHttpErrorLikingPost:!1,addPostPending:!1,hasHttpErrorAddingPost:!1,categoryId:""},Dt=function(e,t){return e.length>0&&t.length>0?e[0].categoryId===t[0].categoryId?[].concat(Object(pe.a)(e),Object(pe.a)(t)):Object(pe.a)(t):t.length>0?Object(pe.a)(t):Object(pe.a)(e)},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(bt.a)({},e,{error:"",hasHttpErrorAddingPost:!1,addPostPending:!0});case"ADD_POST_RESPONSE":return Object(bt.a)({},e,{error:"",posts:[t.data].concat(Object(pe.a)(e.posts)),hasHttpErrorAddingPost:!1,addPostPending:!1});case"ERROR_ADDING_POST":return Object(bt.a)({},e,{error:t.error,hasHttpErrorAddingPost:!0,addPostPending:!1});case"GET_POSTS":return Object(bt.a)({},e,{error:"",hasHttpErrorFetchingPosts:!1,isFetchingPosts:!0,categoryId:t.categoryId});case"RESET_POSTS":return Object(bt.a)({},e,{error:"",posts:[]});case"RECEIVE_POSTS":return Object(bt.a)({},e,{error:"",posts:Dt(e.posts,t.data),hasHttpErrorFetchingPosts:!1,isFetchingPosts:!1});case"ERROR_RECEIVING_POSTS":return Object(bt.a)({},e,{error:t.error,hasHttpErrorFetchingPosts:!0,isFetchingPosts:!1});case"LIKE_POST":return Object(bt.a)({},e,{error:"",hasHttpErrorLikingPost:!1,likePostPendingResponse:!0});case"LIKE_POST_RESPONSE":return Object(bt.a)({},e,{error:"",response:t.data,hasHttpErrorLikingPost:!1,likePostPendingResponse:!1});case"ERROR_LIKING_POST":return Object(bt.a)({},e,{error:t.error,hasHttpErrorLikingPost:!0,likePostPendingResponse:!1});default:return e}},Bt={notes:[]},Ut=function(e,t){var n=[];return e.forEach((function(e){e.id===t.id?n.push(t):n.push(e)})),n},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE":return Object(bt.a)({},e,{notes:[].concat(Object(pe.a)(e.notes),[t.data])});case"UPDATE_NOTE":return Object(bt.a)({},e,{notes:Ut(e.notes,t.data)});case"REMOVE_NOTE":return Object(bt.a)({},e,{notes:e.notes.filter((function(e){return e.id!==t.noteId}))});default:return e}},Ht={user:{fullnames:"Anonymous User",userId:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))+"_random"}},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_UPDATE_USER":return Object(bt.a)({},e,{user:t.user});default:return e}},zt=Object(pt.c)({calenderReducer:Ct,feedbackReducer:Rt,campusesReducer:jt,universitiesReducer:xt,bookmarkReducer:wt,uploadReducer:At,commentReducer:Mt,noteReducer:Gt,postReducer:Lt,userReducer:Vt}),Wt={key:"root",storage:yt.a,whitelist:["calenderReducer","bookmarkReducer","noteReducer","userReducer"],blacklist:["feedbackReducer","campusesReducer","universitiesReducer","commentReducer","postReducer"]},Kt=Object(ft.a)(Wt,zt),Jt=Object(pt.d)(Kt,Object(pt.a)(Object(ht.createLogger)(),mt.a)),Qt=Object(ft.b)(Jt),Yt=n(112);s.a.render(r.a.createElement(A.a,{store:Jt},r.a.createElement(Yt.a,{loading:null,persistor:Qt},r.a.createElement(dt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[124,1,2]]]);
//# sourceMappingURL=main.953b7b0f.chunk.js.map