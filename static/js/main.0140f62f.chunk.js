(this["webpackJsonpstudents-community-web"]=this["webpackJsonpstudents-community-web"]||[]).push([[0],{122:function(e,t,n){e.exports=n(144)},127:function(e,t,n){},128:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),i=n.n(o),s=(n(127),n(9)),l=n(7),c=n(10),u=n(11),d=n(12),p=(n(128),n(44)),h=n(190),m=n(191),f=n(61),E=n.n(f),y=n(59),b=n.n(y),g=n(74),v=n.n(g),k=n(107),C=n.n(k),O=n(24),S=n(4),T=n(145),R=n(173),j=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return!1===this.props.period.isEmptySlot||"false"===this.props.period.isEmptySlot?r.a.createElement(R.a,{item:!0,xs:2,style:{backgroundColor:this.props.bColor}},r.a.createElement(T.a,{onClick:function(){e.goToDetails()},className:t.paper,style:{height:"100%",width:"100%",whiteSpace:"unset",backgroundColor:this.props.period.color.backgroungColor}},r.a.createElement("span",{style:{fontWeight:"bold"}}," ",this.props.period.courseCode),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:7}}," ",this.props.period.venueName))):r.a.createElement(R.a,{item:!0,xs:2,style:{height:"100%",width:"100%",backgroundColor:this.props.bColor}},r.a.createElement(T.a,{className:t.paper,style:{height:"100%",width:"100%",backgroundColor:this.props.bColor}}))}},{key:"goToDetails",value:function(){this.props.history.push("/PeriodDetails/"+this.props.period.periodId)}}]),t}(a.Component),P=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10}}}))(Object(p.e)(j)),I=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(R.a,{item:!0,xs:2,style:{height:"100%",width:"100%"}},r.a.createElement(T.a,{className:e.paper,style:{height:"100%",width:"100%"}},r.a.createElement("span",{style:{fontWeight:"bold"}},this.props.startTime.hour,":",this.props.startTime.minutes),r.a.createElement("br",null),"To",r.a.createElement("br",null),r.a.createElement("span",{style:{fontWeight:"bold"}},this.props.endTime.hour,":",this.props.endTime.minutes)))}}]),t}(a.Component),x=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10}}}))(I),w=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(R.a,{item:!0,xs:2,style:{height:"100%",width:"100%"}},r.a.createElement(T.a,{className:e.paper,style:{height:"100%",width:"100%"}},r.a.createElement("span",{style:{fontWeight:"bold"}},this.props.day)))}}]),t}(a.Component),_=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10,backgroundColor:"#9fd1d1"}}}))(w),A=n(16),N=n(195),F="https://sitholewb.co.za/CoursesAPI/api/",M="https://sitholewb.co.za/PostsAPI/api/",D=function(e){return{type:"RECEIVE_MODULES",data:e}},L=function(e){return{type:"RECEIVE_CALENDER",data:e}},B=function(e){return{type:"SET_UNIVERSITY",university:e}};function U(e){var t=F+"Universities/"+e;return function(e){return e({type:"SEARCH_MODULES"}),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e(B(t))})).catch((function(t){e(B({id:"0000-0000-000000000000",name:"Your Institution",adsDetails:{bannerAd:"ca-app-pub-5631714136940575/3298705317",nativeAdvancedAd:"ca-app-pub-5631714136940575/4838053665"}}))}))}}function G(e){return function(t,n){if("0000-0000-000000000000"===e.universityId)return t(L([]));if(!0===n().calenderReducer.mustRefreshCalender)return t(function(e){var t=F+"Timetable/universities/"+e.universityId+"/slots";return function(n){var a;return n({type:"REQUEST_CALENDER",data:a}),fetch(t,{method:"POST",body:JSON.stringify(e.coursesIds),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n(L(e))})).catch((function(e){n({type:"REQUEST_CALENDER",error:e})}))}}(e));t({type:"GET_CALENDER"});var a=n().calenderReducer.timetable;return t(L(a))}}var H=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=0,a="#f1f1f1",o=this.props.timetable.map((function(e){return n++,a=n%2===0?"#e0ebeb":"#f1f1f1",r.a.createElement(R.a,{key:e.periodSlotId,container:!0,item:!0,xs:12,spacing:1,style:{backgroundColor:a}},r.a.createElement(x,{key:"times_"+e.periodSlotId,bColor:a,startTime:e.startTime,endTime:e.endTime}),r.a.createElement(P,{key:"monday_"+e.periodSlotId,bColor:a,period:e.monday}),r.a.createElement(P,{key:"tuesday_"+e.periodSlotId,bColor:a,period:e.tuesday}),r.a.createElement(P,{key:"wednesday_"+e.periodSlotId,bColor:a,period:e.wednesday}),r.a.createElement(P,{key:"thursday_"+e.periodSlotId,bColor:a,period:e.thursday}),r.a.createElement(P,{key:"friday_"+e.periodSlotId,bColor:a,period:e.friday}))}));return r.a.createElement("div",{className:t.root},r.a.createElement("div",null,r.a.createElement("span",{style:{color:"red",fontWeight:"bold",fontSize:12}},"NOTE: "),r.a.createElement("span",{style:{color:"red",fontSize:12}},"It your responsibility to confirm/validate timetable below!"),r.a.createElement(N.a,{variant:"outlined",color:"secondary",size:"small",label:"Report incorrect/missing Timetable",onClick:function(){e.goToFeedback()}})),r.a.createElement("br",null),r.a.createElement(R.a,{container:!0,spacing:1},r.a.createElement(R.a,{key:"row_days",container:!0,item:!0,xs:12,spacing:1,style:{backgroundColor:a}},r.a.createElement(R.a,{item:!0,xs:2,style:{height:"100%",width:"100%",minHeight:30}},r.a.createElement(T.a,{className:t.paper,style:{height:"100%",width:"100%",backgroundColor:"green",borderRadius:20},onClick:function(){e.addModule()}},r.a.createElement("span",{style:{fontWeight:"bold"}},"Add Module"))),r.a.createElement(_,{key:"monday_",bColor:a,day:"Mon"}),r.a.createElement(_,{key:"tuesday_",bColor:a,day:"Tue"}),r.a.createElement(_,{key:"wednesday_",bColor:a,day:"Wed"}),r.a.createElement(_,{key:"thursday_",bColor:a,day:"Thur"}),r.a.createElement(_,{key:"friday_",bColor:a,day:"Fri"})),o),(void 0===this.props.timetable||null===this.props.timetable||0===this.props.timetable.length)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh",textAlign:"center"}},r.a.createElement("span",null,r.a.createElement("h2",null," Hi there, you have not selected modules you doing. "),r.a.createElement(N.a,{variant:"outlined",color:"primary",size:"small",label:"Go choose my modules",onClick:function(){e.addModule()}})))))}},{key:"goToFeedback",value:function(){this.props.history.push("/Feedback")}},{key:"addModule",value:function(){null===this.props.university||void 0===this.props.university||void 0===this.props.university.id||""===this.props.university.id||"0000-0000-000000000000"===this.props.university.id?this.props.history.push("/University"):!0===this.props.university.timetablePerCampus||"true"===this.props.university.timetablePerCampus?this.props.history.push("/Campus/"+this.props.university.id):this.props.history.push("/institutions/"+this.props.university.id+"/type/universities")}},{key:"getOrUpdateTimetable",value:function(){if(null!==this.props.university&&void 0!==this.props.university&&""!==this.props.university.id&&void 0!==this.props.university.id&&"0000-0000-000000000000"!==this.props.university.id){var e=[],t=!0,n=!1,a=void 0;try{for(var r,o=this.props.courses[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;e.push(i.id)}}catch(s){n=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}this.props.getCalender({universityId:this.props.university.id,coursesIds:e})}}},{key:"componentDidUpdate",value:function(){this.getOrUpdateTimetable()}},{key:"componentDidMount",value:function(){this.getOrUpdateTimetable()}}]),t}(a.Component),V=Object(A.b)((function(e){return{timetable:e.calenderReducer.timetable,university:e.calenderReducer.university,courses:e.calenderReducer.courses}}),(function(e){return{getCalender:function(t){return e(G(t))}}}))(Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10}}}))(Object(p.e)(H))),z=n(184),W=n(186),K=n(185),J=n(181),q=n(180),Y=n(45),Q=n(183),$=n(182),X=n(177),Z=n(179),ee=n(178),te=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hasConflict:!1,period:{}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;if(!0===this.state.hasConflict||"true"===this.state.hasConflict){var n=this.state.period.conflicts.map((function(n){return r.a.createElement("span",{key:"span_"+n.periodId},r.a.createElement(X.a,{className:t.listItem,key:n.periodId,dense:!0,button:!0},r.a.createElement(ee.a,{id:"text_"+n.periodId,primary:n.courseCode,secondary:n.courseName}),r.a.createElement(Z.a,null,r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return e.updatePeriod(n)}},"Select"))),r.a.createElement(J.a,null),r.a.createElement("br",null))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20,backgroundColor:"#f9ecf2"}},"Resolve conflict by selecting one module."),r.a.createElement($.a,null,n))}return r.a.createElement(Q.a,{className:t.root},r.a.createElement(z.a,null,r.a.createElement(K.a,null,r.a.createElement(Y.a,{style:{textAlign:"center"},gutterBottom:!0,variant:"h5",component:"h2"},this.state.period.courseCode),r.a.createElement(Y.a,{style:{textAlign:"center"},variant:"subtitle1",color:"textSecondary",component:"p"},this.state.period.courseName),r.a.createElement(J.a,null),r.a.createElement(Y.a,null,r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Y.a,{style:{textAlign:"center"},variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("span",{style:{fontWeight:"bold"}},"Venue: ")," ",this.state.period.venueName))),r.a.createElement(W.a,null,r.a.createElement(q.a,{size:"small",variant:"contained",onClick:function(){e.props.history.push("/")}},"Back to Timetable"),r.a.createElement(q.a,{size:"small",variant:"contained",onClick:function(){e.goToChat()}},"Open Chatroom"),r.a.createElement(q.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){e.deletePeriod()}},"Delete Period")))}},{key:"updatePeriod",value:function(e){this.props.resolveConflict(e.periodId,e),this.setState({hasConflict:!1,period:e})}},{key:"deletePeriod",value:function(){this.props.removePeriod(this.state.period.periodId),this.props.history.push("/")}},{key:"goToChat",value:function(){this.props.history.push("/Posts/"+this.state.period.courseId+"/code/"+this.state.period.courseCode)}},{key:"getPeriod",value:function(e){for(var t=0;t<this.props.timetable.length;t++){if(this.props.timetable[t].monday.periodId===e)return this.props.timetable[t].monday;if(this.props.timetable[t].tuesday.periodId===e)return this.props.timetable[t].tuesday;if(this.props.timetable[t].wednesday.periodId===e)return this.props.timetable[t].wednesday;if(this.props.timetable[t].thursday.periodId===e)return this.props.timetable[t].thursday;if(this.props.timetable[t].friday.periodId===e)return this.props.timetable[t].friday}return{}}},{key:"componentDidMount",value:function(){var e=this.props.match.params,t=this.getPeriod(e.id);this.setState({hasConflict:t.hasConflict,period:t})}}]),t}(a.Component),ne=Object(A.b)((function(e){return{timetable:e.calenderReducer.timetable,university:e.calenderReducer.university}}),(function(e){return{resolveConflict:function(t,n){return e(function(e,t){return{type:"RESOLVE_CONFLICT",periodId:e,course:t}}(t,n))},removePeriod:function(t){return e(function(e){return{type:"REMOVE_PERIOD",periodId:e}}(t))}}}))(Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,fontSize:10}}}))(Object(p.e)(te))),ae=n(188),re=n(70),oe=n.n(re);function ie(){return function(e,t){var n=t().calenderReducer.university;if(null===n||void 0===n||void 0===n.id||""===n.id||"0000-0000-000000000000"===n.id)return e((function(e){return e({type:"GET_UNIVERSITIES"}),fetch("https://sitholewb.co.za/CoursesAPI/api/universities",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"RECEIVE_UNIVERSITIES",data:t})})).catch((function(t){e({type:"ERROR_GETTING_UNIVERSITIES",error:t})}))}))}}var se=n(187),le=function(e){var t=100;return void 0!==e.size&&(t=e.size),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(se.a,{disableShrink:!0,size:t}))},ce=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.universities.map((function(n){return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(X.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.goToCampusesOrModules(n)}},r.a.createElement(ee.a,{id:"text_"+n.id,primary:n.name}),r.a.createElement(Z.a,null,r.a.createElement(ae.a,{edge:"end","aria-label":"comments"},r.a.createElement(oe.a,null)))),r.a.createElement(J.a,null),r.a.createElement("br",null))}));return!0===this.props.isFetching||"true"===this.props.isFetching?r.a.createElement(le,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20}},"Click your institution below."),r.a.createElement(J.a,null),r.a.createElement("br",null),r.a.createElement($.a,{className:t.root},n))}},{key:"goToCampusesOrModules",value:function(e){B(e),!0===e.timetablePerCampus||"true"===e.timetablePerCampus?this.props.history.push("/Campus/"+e.id):this.props.history.push("/institutions/"+e.id+"/type/universities")}},{key:"componentDidMount",value:function(){this.props.fetchUniversities()}}]),t}(a.Component),ue=Object(A.b)((function(e){return{universities:e.universitiesReducer.universities,isFetching:e.universitiesReducer.isFetching,error:e.universitiesReducer.error}}),(function(e){return{fetchUniversities:function(){return e(ie())},updateUniversity:function(t){return e(B(t))}}}))(Object(S.a)((function(e){return{root:{width:"100%"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(Object(p.e)(ce)));var de=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.campuses.map((function(n){return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(X.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.goToModules(n)}},r.a.createElement(ee.a,{id:"text_"+n.id,primary:n.name}),r.a.createElement(Z.a,null,r.a.createElement(ae.a,{edge:"end","aria-label":"comments"},r.a.createElement(oe.a,null)))),r.a.createElement(J.a,null))}));return!0===this.props.isFetching||"true"===this.props.isFetching?r.a.createElement(le,null):r.a.createElement($.a,null,r.a.createElement(J.a,null),r.a.createElement("span",null,"Click your campus below."),r.a.createElement(J.a,null),n)}},{key:"goToModules",value:function(e){this.props.history.push("/institutions/"+e.id+"/type/campuses")}},{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.fetchCampuses(e.id)}}]),t}(a.Component),pe=Object(A.b)((function(e){return{campuses:e.campusesReducer.campuses,isFetching:e.campusesReducer.isFetching,error:e.campusesReducer.error}}),(function(e){return{fetchCampuses:function(t){return e(function(e){var t=F+"Campuses/universities/"+e;return function(e){return e({type:"GET_CAMPUSES"}),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"RECEIVE_CAMPUSES",data:t})})).catch((function(t){e({type:"ERROR_GETTING_CAMPUSES",error:t})}))}}(t))}}}))(Object(S.a)((function(e){return{root:{width:"100%"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(de)),he=n(18),me=n(192),fe=n(194),Ee=n(40),ye=n.n(Ee),be=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={searchText:"",doneSearching:!0,hasPressedSearch:!1,searchResultsView:[],courses:[],showSnackbar:!1,snackbarText:""},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;if(!0!==this.props.isSearching&&"true"!==this.props.isSearching||!1!==this.state.doneSearching){var t=this.props.classes,n=this.props.searchResults.map((function(n){return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(X.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.goToModules(n)}},r.a.createElement(ee.a,{id:"text_"+n.id,primary:n.code,secondary:n.name}),r.a.createElement(Z.a,null,e.getActionButton(n,e.props.courses))),r.a.createElement(J.a,null))})),a=this.props.courses.map((function(n){return r.a.createElement("span",{key:"view_span_"+n.id},r.a.createElement(X.a,{className:t.listItem,key:"view_"+n.id,dense:!0,button:!0,onClick:function(){e.goToModules(n)}},r.a.createElement(ee.a,{id:"view_text_"+n.id,primary:n.code,secondary:n.name}),r.a.createElement(Z.a,null,e.getActionButton(n,e.props.courses))),r.a.createElement(J.a,null))}));return r.a.createElement("div",null,r.a.createElement(fe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:"course_snackbar",open:this.state.showSnackbar,onClose:function(){e.handleClose()},message:this.state.snackbarText,autoHideDuration:3e3,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{color:"secondary",size:"small",onClick:function(){e.handleClose()}},"DISMISS"),r.a.createElement(ae.a,{"aria-label":"close",color:"inherit",onClick:function(){e.handleClose()}},r.a.createElement(ye.a,null)))}),!0===this.state.hasPressedSearch&&this.state.searchText.length<4&&r.a.createElement("span",{style:{color:"red"}},"Enter 4 or more characters "),r.a.createElement(me.a,{id:"standard-full-width",label:"Search Module",style:{margin:8},placeholder:"Search Module by Name or Code... e.g MATH130",fullWidth:!0,margin:"normal",onChange:function(t){return e.onChangeSearchText(t)},value:this.state.searchText,InputLabelProps:{shrink:!0}}),r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return e.searchModule()}},"Search"),r.a.createElement(J.a,null),!0===this.state.hasPressedSearch&&this.state.searchText.length>=4&&r.a.createElement("span",null,"Total courses is ",this.props.searchResults.length),!(!0===this.state.hasPressedSearch&&this.state.searchText.length>=4)&&r.a.createElement("div",null,r.a.createElement(J.a,null),r.a.createElement($.a,null,a)),!0===this.state.hasPressedSearch&&this.state.searchText.length>=4&&r.a.createElement("div",null,r.a.createElement(J.a,null),r.a.createElement($.a,null,n)))}return r.a.createElement(le,null)}},{key:"showSnackbar",value:function(e){this.setState({showSnackbar:!0,snackbarText:e})}},{key:"handleClose",value:function(){this.setState({showSnackbar:!1,snackbarText:""})}},{key:"onChangeSearchText",value:function(e){this.setState({hasPressedSearch:!1,searchText:e.target.value})}},{key:"searchModule",value:function(){var e=this,t=this.props.match.params;this.setState({hasPressedSearch:!0}),this.state.searchText.length>=4&&(this.setState({doneSearching:!1}),this.props.searchModules(t.id,this.state.searchText,t.routeType).then((function(){e.setState({hasPressedSearch:!0,doneSearching:!0})})))}},{key:"getActionButton",value:function(e,t){var n=this;return!1===this.courseExists(e.id,t)?r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return n.addCourse(e)}},"Add"):r.a.createElement(q.a,{variant:"contained",color:"secondary",onClick:function(){return n.removeCourse(e.id)}},"Remove")}},{key:"addCourse",value:function(e){this.props.addModule(e);var t=[].concat(Object(he.a)(this.state.courses),[e]);this.setState({courses:t}),this.props.fetchAndSetUniversity(e.universityId),this.showSnackbar("Module added successfully.")}},{key:"removeCourse",value:function(e){this.props.removeModule(e);var t=[],n=!0,a=!1,r=void 0;try{for(var o,i=this.state.courses[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;s.id!==e&&t.push(s)}}catch(l){a=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}this.setState({courses:t}),this.showSnackbar("Module removed successfully.")}},{key:"courseExists",value:function(e,t){var n=!0,a=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){if(o.value.id===e)return!0}}catch(s){a=!0,r=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return!1}},{key:"componentDidMount",value:function(){this.props.receiveModules([])}}]),t}(a.Component),ge=Object(A.b)((function(e){return{searchResults:e.calenderReducer.searchResults,isSearching:e.calenderReducer.isSearching,error:e.calenderReducer.error,hasErrorSearching:e.calenderReducer.hasErrorSearching,courses:e.calenderReducer.courses}}),(function(e){return{searchModules:function(t,n,a){return e(function(e,t,n){var a=F+"Courses/"+n+"/"+e+"/search";return function(e){return e({type:"SEARCH_MODULES"}),fetch(a,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e(D(t))})).catch((function(t){e({type:"ERROR_RECEIVING_MODULES",error:t})}))}}(t,n,a))},receiveModules:function(t){return e(D(t))},addModule:function(t){return e({type:"ADD_MODULE",course:t})},removeModule:function(t){return e({type:"REMOVE_MODULE",courseId:t})},fetchAndSetUniversity:function(t){return e(function(e){return function(t,n){var a=n().calenderReducer.university;return null===a?t(U(e)):a.id!==e&&"0000-0000-000000000000"!==e?t(U(e)):void 0}}(t))}}}))(Object(S.a)((function(e){return{root:{width:"100%"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(be)),ve=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.courses.map((function(n){return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(X.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.openPosts(n.id,n.code)}},r.a.createElement(ee.a,{id:"text_"+n.id,primary:n.code,secondary:n.name}),r.a.createElement(Z.a,null,r.a.createElement(ae.a,{edge:"end","aria-label":"comments"},r.a.createElement(E.a,null)))),r.a.createElement(J.a,null),r.a.createElement("br",null))}));return r.a.createElement("div",null,r.a.createElement(q.a,{size:"small",variant:"contained",color:"primary",onClick:function(){e.addModule()}},"Add or Remove module"),r.a.createElement(J.a,null),r.a.createElement("span",null," Total number of modules you doing is ",this.props.courses.length),r.a.createElement(J.a,null),null!==this.props.university&&void 0!==this.props.university&&void 0!==this.props.university.id&&""!==this.props.university.id&&"0000-0000-000000000000"!==this.props.university.id&&r.a.createElement("span",{key:"span_"+this.props.university.id},r.a.createElement(X.a,{className:t.listItem,key:this.props.university.id,dense:!0,button:!0,onClick:function(){e.openPosts(e.props.university.id,e.props.university.name)}},r.a.createElement(ee.a,{id:"text_"+this.props.university.id,primary:this.props.university.name,secondary:"Send message to all students in your institution"}),r.a.createElement(Z.a,null,r.a.createElement(ae.a,{edge:"end","aria-label":"comments"},r.a.createElement(E.a,null)))),r.a.createElement(J.a,null)),r.a.createElement(J.a,null),r.a.createElement($.a,null,n))}},{key:"openPosts",value:function(e,t){this.props.history.push("/Posts/"+e+"/code/"+t)}},{key:"addModule",value:function(){null===this.props.university||void 0===this.props.university||void 0===this.props.university.id||""===this.props.university.id||"0000-0000-000000000000"===this.props.university.id?this.props.history.push("/University"):!0===this.props.university.timetablePerCampus||"true"===this.props.university.timetablePerCampus?this.props.history.push("/Campus/"+this.props.university.id):this.props.history.push("/institutions/"+this.props.university.id+"/type/universities")}}]),t}(a.Component),ke=Object(A.b)((function(e){return{courses:e.calenderReducer.courses,university:e.calenderReducer.university}}),(function(e){return{getNumberOfUnreadMessages:function(t){return e({type:"GET_UNREAD_MESSAGES_COUNT",courses:t})}}}))(Object(S.a)((function(e){return{root:{width:"100%"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(Object(p.e)(ve))),Ce=n(84),Oe=n.n(Ce),Se=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={title:"",body:"",isEdit:!1,actionType:"viewList",noteToView:{}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=new Date(this.state.noteToView.createdDate),a=n.toDateString()+" "+n.toLocaleTimeString(),o=new Date(this.state.noteToView.lastModifiedDate),i=o.toDateString()+" "+o.toLocaleTimeString();if("viewNote"===this.state.actionType)return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement(J.a,null),r.a.createElement("span",{className:t.nameHeader}," ",this.state.noteToView.title," "),r.a.createElement("span",{className:t.dates}," ",r.a.createElement("span",{style:{fontWeight:"bold"}},"Created on:"),"  ",a.toString()),r.a.createElement("span",{className:t.dates},"  ",r.a.createElement("span",{style:{fontWeight:"bold"}},"Last modified on:")," ",i.toString()),r.a.createElement(J.a,null),r.a.createElement("span",null," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)),r.a.createElement("span",null,this.state.noteToView.body)),r.a.createElement("span",null," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)),r.a.createElement(J.a,null),r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){e.setState({actionType:"viewList"})}},"Back to Notes"));if("add"===this.state.actionType||"edit"===this.state.actionType)return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("br",null)),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20}},"Title"),r.a.createElement(me.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Type note title here...",fullWidth:!0,margin:"normal",onChange:function(t){return e.onChangeTitleText(t)},value:this.state.title,InputLabelProps:{shrink:!0}}),r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20}},"Body"),r.a.createElement(me.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Type your notes here...",fullWidth:!0,multiline:!0,rows:"4",margin:"normal",onChange:function(t){return e.onChangeBodyText(t)},value:this.state.body,InputLabelProps:{shrink:!0}})),r.a.createElement("span",{style:{color:"white"}},"_"),r.a.createElement("div",{className:t.containerActions},r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){e.addOrEditNote()}},"Save Note"),r.a.createElement(q.a,{variant:"contained",onClick:function(){e.setState({actionType:"viewList"})}},"Back to Notes")));var s=this.props.notes.map((function(n){var a=new Date(n.createdDate),o=(a.toDateString(),a.toLocaleTimeString(),new Date(n.lastModifiedDate)),i=o.toDateString()+" "+o.toLocaleTimeString();return r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(X.a,{className:t.listItem,key:n.id,dense:!0,button:!0,onClick:function(){e.viewNote(n)}},r.a.createElement(ee.a,{id:"text_"+n.id,primary:n.title,secondary:"Modified on: "+i}),r.a.createElement(Z.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{edge:"end","aria-label":"edit",onClick:function(){e.addOrEditNote(n,!0)}},r.a.createElement(b.a,null)),r.a.createElement(ae.a,{edge:"end","aria-label":"delete",onClick:function(){e.deleteNote(n.id)}},r.a.createElement(Oe.a,null))))),r.a.createElement(J.a,null),r.a.createElement("br",null))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement(J.a,null),r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){e.addOrEditNote({},!1)}},"Add Note")),r.a.createElement(J.a,null),r.a.createElement($.a,null,s))}},{key:"createGuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},{key:"viewNote",value:function(e){this.setState({noteToView:e,actionType:"viewNote"})}},{key:"addOrEditNote",value:function(e,t){if("viewList"===this.state.actionType)!0===t?this.setState({actionType:"edit",noteToEdit:e,isEdit:!0,title:e.title,body:e.body}):this.setState({actionType:"add",isEdit:!1,title:"",body:""});else if(this.state.title.length<1);else{if(!1===this.state.isEdit){var n={id:this.createGuid(),createdDate:new Date,lastModifiedDate:new Date,title:this.state.title,body:this.state.body};this.props.addNote(n)}else{var a={id:this.state.noteToEdit.id,createdDate:this.state.noteToEdit.createdDate,lastModifiedDate:new Date,title:this.state.title,body:this.state.body};this.props.updateNote(a)}this.setState({actionType:"viewList",isEdit:!1,title:"",body:""})}}},{key:"deleteNote",value:function(e){this.props.removeNote(e)}},{key:"onChangeTitleText",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeBodyText",value:function(e){this.setState({body:e.target.value})}},{key:"componentDidMount",value:function(){}}]),t}(a.Component),Te=Object(A.b)((function(e){return{notes:e.noteReducer.notes}}),(function(e){return{addNote:function(t){return e({type:"ADD_NOTE",data:t})},removeNote:function(t){return e(function(e){return{type:"REMOVE_NOTE",noteId:e}}(t))},updateNote:function(t){return e({type:"UPDATE_NOTE",data:t})}}}))(Object(S.a)((function(e){return{container:{display:"flex",backgroundColor:"white"},containerActions:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",flexDirection:"row"},mainContainer:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",flexDirection:"column",alignItems:"stretch"},nameHeader:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",textAlign:"center",fontWeight:"bold",fontSize:25},dates:{fontSize:12,textAlign:"center"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(Se)),Re=n(17),je=n(27),Pe=n(43),Ie=n.n(Pe),xe=n(189),we=n(196),_e=n(73),Ae=n.n(_e),Ne=n(72),Fe=n.n(Ne),Me=n(71),De=n.n(Me),Le=n(105),Be=n.n(Le),Ue=n(103),Ge=n.n(Ue),He=n(104),Ve=n.n(He),ze=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.classes,!0===this.props.file.contentType.includes("video")||!0===this.props.file.contentType.includes("audio")),n=!0===this.props.file.contentType.includes("image")||!0===this.props.file.contentType.includes("picture");return!0===n||!0===t?r.a.createElement("div",null,!0===t&&r.a.createElement(Ge.a,{url:"http://sitholewb.co.za/FilesAPI/api/Storage/"+this.props.file.id+"/view",width:"100%",height:"100%",playing:!1,controls:!0}),!0===n&&r.a.createElement("img",{src:"http://sitholewb.co.za/FilesAPI/api/Storage/"+this.props.file.id+"/view",width:"100%",height:"100%"})):r.a.createElement("div",null,r.a.createElement(N.a,{icon:r.a.createElement(Ie.a,null),label:this.props.file.name,clickable:!0,color:"primary",size:"small",variant:"outlined",onClick:function(){e.openFile()},deleteIcon:r.a.createElement(Ve.a,null)}))}},{key:"openFile",value:function(){this.props.history.push("/file/"+this.props.file.id+"/view")}}]),t}(a.Component),We=Object(S.a)((function(e){return{playerWrapper:{position:"relative",paddingTop:56},reactPlayer:{position:"absolute",top:0,left:0}}}))(Object(p.e)(ze));function Ke(e){var t=M+"Comments/Posts/"+e;return function(e){return e({type:"GET_COMMENTS"}),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("Len = "+t.length),e({type:"RECEIVE_COMMENTS",data:t})})).catch((function(t){e({type:"ERROR_RECEIVING_COMMENTS",error:t})}))}}var Je=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hasConflict:!1,post:{},showSnackbar:!1,snackbarText:"",totalLikes:0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=new Date(this.props.comment.addedDate),a=n.toDateString()+" "+n.toLocaleTimeString();return r.a.createElement("div",null,r.a.createElement(fe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:"course_snackbar",open:this.state.showSnackbar,onClose:function(){e.handleClose()},message:this.state.snackbarText,autoHideDuration:3e3,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{color:"secondary",size:"small",onClick:function(){e.handleClose()}},"DISMISS"),r.a.createElement(ae.a,{"aria-label":"close",color:"inherit",onClick:function(){e.handleClose()}},r.a.createElement(ye.a,null)))}),r.a.createElement(Q.a,{className:t.root},r.a.createElement(xe.a,{avatar:r.a.createElement(we.a,{"aria-label":"recipe",className:t.avatar},r.a.createElement(De.a,null)),action:r.a.createElement(ae.a,{"aria-label":"settings"},r.a.createElement(Fe.a,null)),title:this.getUserFullNames(),subheader:a}),r.a.createElement(J.a,null),r.a.createElement(K.a,null,r.a.createElement(Y.a,{variant:"body2",color:"textSecondary",component:"p"},this.props.comment.body)),r.a.createElement(K.a,null,null!==this.props.comment.files&&this.props.comment.files.length>0&&r.a.createElement(We,{file:this.props.comment.files[0]})),r.a.createElement(W.a,{style:{backgroundColor:"#f9ecf2"},disableSpacing:!0},r.a.createElement(ae.a,{"aria-label":"Like this comment",style:{color:this.state.likeButtonBackgroundColor},onClick:function(){e.handlePostLike()}},r.a.createElement(Ae.a,null)),this.props.comment.likes.length>0&&r.a.createElement(N.a,{variant:"outlined",size:"small",label:this.props.comment.likes.length+" likes"}))))}},{key:"showSnackbar",value:function(e){this.setState({showSnackbar:!0,snackbarText:e})}},{key:"handleClose",value:function(){this.setState({showSnackbar:!1,snackbarText:""})}},{key:"getUserFullNames",value:function(){return null===this.props.comment.addedBy||"null"===this.props.comment.addedBy||void 0===this.props.comment.addedBy?"Anonymous User":this.props.comment.addedBy.fullnames}},{key:"handlePostLike",value:function(){var e=this;this.props.likeCommentById(this.props.comment.postId,this.props.comment.id,this.props.user).then((function(){"black"===e.state.likeButtonBackgroundColor?e.setState({likeButtonBackgroundColor:"green",totalLikes:e.state.totalLikes+1}):e.setState({likeButtonBackgroundColor:"black",totalLikes:e.state.totalLikes-1})}))}},{key:"existOnLikes",value:function(){for(var e=!1,t=this.props.comment.likes,n=0;n<t.length;n++)t[n].userId===this.props.user.userId&&(e=!0);return e}},{key:"sentComment",value:function(){var e=this;this.state.commentText.length<1?this.showSnackbar("Input must be at least 1 letter"):(this.setState({addPostPending:!0}),!1===this.state.fileIsAttached?this.props.AddComment(this.props.comment.id,{body:this.state.commentText,addedBy:this.props.user}).then((function(){e.setState({addPostPending:!1,commentText:"",showAddComment:!1,showComments:!0,totalComments:e.state.totalComments+1})})):this.props.uploadFileToStorage(this.state.documentObject).then((function(){e.props.AddComment(e.props.comment.id,{body:e.state.commentText,addedBy:e.props.user,files:[e.props.uploadResponse]}).then((function(){e.setState({commentText:"",fileIsAttached:!1,fileName:"",addPostPending:!1,showAddComment:!1,showComments:!0,totalComments:e.state.totalComments+1})}))})))}},{key:"componentDidMount",value:function(){var e="black";this.existOnLikes()&&(e="green"),this.setState({likeButtonBackgroundColor:e})}}]),t}(a.Component),qe=Object(A.b)((function(e){return{user:e.userReducer.user}}),(function(e){return{likeCommentById:function(t,n,a){return e(function(e,t,n){var a=M+"Comments/likes/"+t+"/posts/"+e;return function(e){return e({type:"LIKE_COMMENT"}),fetch(a,{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"LIKE_COMMENT_RESPONSE"})})).catch((function(t){e({type:"ERROR_LIKING_COMMENT",error:t})}))}}(t,n,a))}}}))(Object(S.a)((function(e){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"green"}}}))(Je)),Ye=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(!0===this.props.isFetchingComments)return r.a.createElement(le,null);var e=this.props.comments.map((function(e){return r.a.createElement(qe,{comment:e})}));return r.a.createElement("div",null,e)}},{key:"componentDidMount",value:function(){this.props.fetchComments(this.props.postId)}}]),t}(a.Component),Qe=Object(A.b)((function(e){return{comments:e.commentReducer.comments,isFetchingComments:e.commentReducer.isFetchingComments}}),(function(e){return{fetchComments:function(t){return e(Ke(t))}}}))(Object(S.a)((function(e){return{container:{margin:1,display:"flex",flexWrap:"nowrap"}}}))(Ye)),$e=function(e){return{type:"ADD_BOOKMARK",post:e}},Xe=function(e){return{type:"REMOVE_BOOKMARK",postId:e}};function Ze(e){var t=new FormData;return t.append("file",e),function(e){return e({type:"UPLOAD_FILE"}),fetch("https://sitholewb.co.za/FilesAPI/api/Storage",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){e(function(e){return{type:"UPLOAD_FILE_RESPONSE",data:e}}(t))})).catch((function(t){e(function(e){return{type:"ERROR_UPLOADING_FILE",error:e}}(t))}))}}var et=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).fileUpload=r.a.createRef(),n.showFileUpload=n.showFileUpload.bind(Object(je.a)(n)),n.onFileChange=n.onFileChange.bind(Object(je.a)(n)),n.state={hasConflict:!1,post:{},showSnackbar:!1,snackbarText:"",showAddComment:!1,fileIsAttached:!1,fileName:"",documentObject:{}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=new Date(this.props.post.addedDate),a=n.toDateString()+" "+n.toLocaleTimeString();return r.a.createElement("div",{className:t.cardStyle},r.a.createElement(J.a,null),r.a.createElement(fe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:"course_snackbar",open:this.state.showSnackbar,onClose:function(){e.handleClose()},message:this.state.snackbarText,autoHideDuration:3e3,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{color:"secondary",size:"small",onClick:function(){e.handleClose()}},"DISMISS"),r.a.createElement(ae.a,{"aria-label":"close",color:"inherit",onClick:function(){e.handleClose()}},r.a.createElement(ye.a,null)))}),r.a.createElement(Q.a,{className:t.root},r.a.createElement(xe.a,{avatar:r.a.createElement(we.a,{"aria-label":"recipe",className:t.avatar},r.a.createElement(De.a,null)),action:r.a.createElement(ae.a,{"aria-label":"settings"},r.a.createElement(Fe.a,null)),title:this.getUserFullNames(),subheader:a}),r.a.createElement(J.a,null),r.a.createElement(K.a,null,r.a.createElement(Y.a,{variant:"body2",color:"textSecondary",component:"p"},this.props.post.body)),r.a.createElement(K.a,null,null!==this.props.post.files&&this.props.post.files.length>0&&r.a.createElement(We,{file:this.props.post.files[0]})),r.a.createElement(J.a,null),r.a.createElement(W.a,{style:{backgroundColor:"#f9ecf2"},disableSpacing:!0},r.a.createElement(ae.a,{"aria-label":"Like this post",style:{color:this.state.likeButtonBackgroundColor},onClick:function(){e.handlePostLike()}},r.a.createElement(Ae.a,null)),r.a.createElement(ae.a,{"aria-label":"Add Comment",style:{color:"black"},onClick:function(){e.toggleShowAddComment()}},r.a.createElement(Be.a,null)),r.a.createElement(ae.a,{edge:"end","aria-label":"Add to bookmark",onClick:function(){e.handleBookmarkClick()}},r.a.createElement(v.a,{style:{color:this.state.bookmarkButtonBackgroundColor}})),r.a.createElement("span",{style:{color:"#f9ecf2"}},"__"),this.props.post.totalComments>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"outlined",color:"primary",size:"small",label:this.props.post.totalComments+" comments",clickable:!0,onClick:function(){e.toggleComments()}}),r.a.createElement("span",{style:{color:"#f9ecf2"}},"_")),this.props.post.likes.length>0&&r.a.createElement(N.a,{variant:"outlined",size:"small",label:this.props.post.likes.length+" likes"}))),r.a.createElement("div",null,!0===this.state.showAddComment&&r.a.createElement("div",null,r.a.createElement(me.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Add your comment...",fullWidth:!0,multiline:!0,rows:"4",margin:"normal",onChange:function(t){return e.onChangeText(t)},value:this.state.postText,InputLabelProps:{shrink:!0}}),!1===this.state.fileIsAttached&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{style:{display:"none"},id:"postFileId",type:"file",ref:this.fileUpload,onChange:this.onFileChange})),r.a.createElement("div",null,r.a.createElement(N.a,{icon:r.a.createElement(Ie.a,null),label:"attach file(image/pdf/video/etc)",clickable:!0,color:"primary",size:"small",variant:"outlined",onClick:function(){e.showFileUpload()}}))),!0===this.state.fileIsAttached&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{icon:r.a.createElement(Ie.a,null),label:this.state.fileName,onDelete:function(){e.removeFile()},color:"secondary",variant:"outlined"}),r.a.createElement("span",null,r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement("span",null,r.a.createElement("br",null)),r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){e.sentComment()}},"Add Comment")),r.a.createElement("br",null)),!0===this.state.addPostPending&&r.a.createElement("div",null,r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"Adding your comment..."),r.a.createElement(le,null))),!0===this.state.showComments&&r.a.createElement("div",{className:t.containerComments},r.a.createElement("span",{style:{width:"20%"}}),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(Qe,{postId:this.props.post.id}))))}},{key:"onFileChange",value:function(e){this.setState({fileIsAttached:!0,fileName:e.target.files[0].name,documentObject:e.target.files[0]})}},{key:"showFileUpload",value:function(){this.fileUpload.current.click()}},{key:"toggleShowAddComment",value:function(){this.setState({showAddComment:!this.state.showAddComment})}},{key:"showSnackbar",value:function(e){this.setState({showSnackbar:!0,snackbarText:e})}},{key:"handleClose",value:function(){this.setState({showSnackbar:!1,snackbarText:""})}},{key:"removeFile",value:function(){this.setState({fileIsAttached:!1,fileName:""})}},{key:"getUserFullNames",value:function(){return null===this.props.post.addedBy||"null"===this.props.post.addedBy||void 0===this.props.post.addedBy?"Anonymous User":this.props.post.addedBy.fullnames}},{key:"handlePostLike",value:function(){var e=this;this.props.likePostById(this.props.post.id,this.props.user).then((function(){"black"===e.state.likeButtonBackgroundColor?e.setState({likeButtonBackgroundColor:"green",totalLikes:e.state.totalLikes+1}):e.setState({likeButtonBackgroundColor:"black",totalLikes:e.state.totalLikes-1})}))}},{key:"handleBookmarkClick",value:function(){!0===this.existOnBookmarks()?(this.setState({bookmarkButtonBackgroundColor:"black"}),this.props.removeBookmark(this.props.post.id)):(this.setState({bookmarkButtonBackgroundColor:"green"}),this.props.addBookmark(this.props.post))}},{key:"existOnBookmarks",value:function(){for(var e=!1,t=this.props.bookmarkedPosts,n=0;n<t.length;n++)t[n].id===this.props.post.id&&(e=!0);return e}},{key:"existOnLikes",value:function(){for(var e=!1,t=this.props.post.likes,n=0;n<t.length;n++)t[n].userId===this.props.user.userId&&(e=!0);return e}},{key:"sentComment",value:function(){var e=this;this.state.commentText.length<1?this.showSnackbar("Input must be at least 1 letter"):(this.setState({addPostPending:!0}),!1===this.state.fileIsAttached?this.props.AddComment(this.props.post.id,{body:this.state.commentText,addedBy:this.props.user}).then((function(){e.setState({addPostPending:!1,commentText:"",showAddComment:!1,showComments:!0,totalComments:e.state.totalComments+1})})):this.props.uploadFileToStorage(this.state.documentObject).then((function(){e.props.AddComment(e.props.post.id,{body:e.state.commentText,addedBy:e.props.user,files:[e.props.uploadResponse]}).then((function(){e.setState({commentText:"",fileIsAttached:!1,fileName:"",addPostPending:!1,showAddComment:!1,showComments:!0,totalComments:e.state.totalComments+1})}))})))}},{key:"onChangeText",value:function(e){this.setState({commentText:e.target.value})}},{key:"toggleComments",value:function(){this.setState({showComments:!this.state.showComments})}},{key:"componentDidMount",value:function(){var e="black",t="black";this.existOnLikes()&&(e="green"),!0===this.existOnBookmarks()&&(t="green"),this.setState({bookmarkButtonBackgroundColor:t,likeButtonBackgroundColor:e})}}]),t}(a.Component),tt=Object(A.b)((function(e){return{isFetchingComments:e.commentReducer.isFetchingComments,bookmarkedPosts:e.bookmarkReducer.bookmarkedPosts,user:e.userReducer.user,uploadResponse:e.uploadReducer.response,percent:e.uploadReducer.percent,isUploadingFile:e.uploadReducer.isFetching}}),(function(e){return{fetchComments:function(t){return e(Ke(t))},AddComment:function(t,n){return e(function(e,t){var n=M+"Comments/Posts/"+e;return function(e){return e({type:"POST_COMMENT"}),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"POST_COMMENT_RESPONSE",data:t})})).catch((function(t){e({type:"ERROR_POSTING_COMMENT",error:t})}))}}(t,n))},addBookmark:function(t){return e($e(t))},removeBookmark:function(t){return e(Xe(t))},removeAllBookmark:function(){return e({type:"REMOVE_ALL_BOOKMARK"})},likePostById:function(t,n){return e(function(e,t){var n=M+"Posts/likes/"+e;return function(e){return e({type:"LIKE_POST"}),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"LIKE_POST_RESPONSE",data:t})})).catch((function(t){e({type:"ERROR_LIKING_POST",error:t})}))}}(t,n))},uploadFileToStorage:function(t){return e(Ze(t))}}}))(Object(S.a)((function(e){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"green"},containerComments:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",flexDirection:"row"},cardStyle:{borderRadius:10}}}))(et)),nt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).fileUpload=r.a.createRef(),n.showFileUpload=n.showFileUpload.bind(Object(je.a)(n)),n.onFileChange=n.onFileChange.bind(Object(je.a)(n)),n.state={postText:"",fileIsAttached:!1,fileName:"",documentObject:{},addPostPending:!1,noMorePosts:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;this.props.classes;if(!0===this.props.isFetchingPosts&&0===this.props.posts.length)return r.a.createElement(le,null);var t=this.props.posts.map((function(e){return r.a.createElement(tt,{key:"card_"+e.id,post:e})})),n=this.props.match.params;return r.a.createElement(a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20,backgroundColor:"#f9ecf2"}},n.code,"."),r.a.createElement(J.a,null),r.a.createElement("br",null),r.a.createElement("div",null,!1===this.state.addPostPending&&r.a.createElement("div",null,r.a.createElement(me.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Add your post...",fullWidth:!0,multiline:!0,rows:"4",margin:"normal",onChange:function(t){return e.onChangeText(t)},value:this.state.postText,InputLabelProps:{shrink:!0}}),!1===this.state.fileIsAttached&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{style:{display:"none"},id:"postFileId",type:"file",ref:this.fileUpload,onChange:this.onFileChange})),r.a.createElement("div",null,r.a.createElement(N.a,{icon:r.a.createElement(Ie.a,null),label:"attach file(image/pdf/video/etc)",clickable:!0,color:"primary",size:"small",variant:"outlined",onClick:function(){e.showFileUpload()}}))),!0===this.state.fileIsAttached&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{icon:r.a.createElement(Ie.a,null),label:this.state.fileName,onDelete:function(){e.removeFile()},color:"secondary",variant:"outlined"}),r.a.createElement("span",null,r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement("span",null,r.a.createElement("br",null)),r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){e.sendPost()}},"Add Post")),r.a.createElement("br",null)),!0===this.state.addPostPending&&r.a.createElement("div",null,r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"Adding your post..."),r.a.createElement(le,null),!0===this.state.fileIsAttached&&r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"Attachment upload progress ",this.props.percent,"%...")),r.a.createElement(J.a,null),r.a.createElement("div",null,r.a.createElement($.a,null,t),!0===this.props.isFetchingPosts&&this.props.posts.length>0&&r.a.createElement(le,null),r.a.createElement("br",null),!1===this.state.noMorePosts&&r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){e.loadMorePosts()}},"LOAD MORE POSTS..."),!0===this.state.noMorePosts&&r.a.createElement("span",null,"No more posts to show."),r.a.createElement("br",null))))}},{key:"onFileChange",value:function(e){this.setState({fileIsAttached:!0,fileName:e.target.files[0].name,documentObject:e.target.files[0]})}},{key:"showFileUpload",value:function(){this.fileUpload.current.click()}},{key:"removeFile",value:function(){this.setState({fileIsAttached:!1,fileName:""})}},{key:"onChangeText",value:function(e){this.setState({postText:e.target.value})}},{key:"sendPost",value:function(){var e=this;if(!(this.state.postText.length<1)){var t=this.props.match.params;this.setState({addPostPending:!0}),!1===this.state.fileIsAttached?this.props.sendPost(t.id,{body:this.state.postText,addedBy:this.props.user}).then((function(){e.setState({postText:""}),e.setState({addPostPending:!1})})):this.props.uploadFileToStorage(this.state.documentObject).then((function(){e.props.sendPost(t.id,{body:e.state.postText,addedBy:e.props.user,files:[e.props.uploadResponse]}).then((function(){e.setState({postText:"",fileIsAttached:!1,fileName:"",addPostPending:!1})}))}))}}},{key:"loadMorePosts",value:function(){if(50===this.props.posts.length){var e=this.props.match.params,t={beforeDate:this.props.posts[49].addedDate,categoryId:e.id,lastN:50};this.props.fetchGetPosts(e.id,t)}else this.setState({noMorePosts:!0})}},{key:"componentDidMount",value:function(){var e=this.props.match.params,t={beforeDate:null,categoryId:e.id,lastN:50};this.props.resetPosts(),this.props.fetchGetPosts(e.id,t)}}]),t}(a.Component),at=Object(A.b)((function(e){return{posts:e.postReducer.posts,isFetchingPosts:e.postReducer.isFetchingPosts,addPostPending:e.postReducer.addPostPending,user:e.userReducer.user,uploadResponse:e.uploadReducer.response,percent:e.uploadReducer.percent,isUploadingFile:e.uploadReducer.isFetching}}),(function(e){return{fetchGetPosts:function(t,n){return e(function(e,t){var n=M+"Posts/"+e+"/query";return function(a){return a(function(e){return{type:"GET_POSTS",categoryId:e}}(e)),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a({type:"RECEIVE_POSTS",data:e})})).catch((function(e){a({type:"ERROR_RECEIVING_POSTS",error:e})}))}}(t,n))},sendPost:function(t,n){return e(function(e,t){var n=M+"Posts/"+e;return function(e){return e({type:"ADD_POST"}),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"ADD_POST_RESPONSE",data:t})})).catch((function(t){e({type:"ERROR_ADDING_POST",error:t})}))}}(t,n))},addUpdateUser:function(t){return e(function(e){return{type:"ADD_UPDATE_USER",user:e}}(t))},uploadFileToStorage:function(t){return e(Ze(t))},resetPosts:function(t){return e({type:"RESET_POSTS"})}}}))(Object(S.a)((function(e){var t,n;return{container:{margin:1,display:"flex",flexWrap:"nowrap"},removeFileButton:{fontSize:13,textAlign:"center"},removeFileCustomBtnBG:(t={backgroundColor:"#ffe0b3",borderRadius:3,alignSelf:"flex-start"},Object(Re.a)(t,"borderRadius",10),Object(Re.a)(t,"height",23),t),addModuleButton:{fontSize:13,textAlign:"center"},addModuleCustomBtnBG:(n={backgroundColor:"#ffe0b3",borderRadius:3,alignItems:"center"},Object(Re.a)(n,"borderRadius",10),Object(Re.a)(n,"width",220),Object(Re.a)(n,"alignSelf","flex-end"),Object(Re.a)(n,"height",23),n)}}))(nt)),rt=n(106),ot=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={iFrameHeight:"300px"},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.match.params;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(rt.a,{url:"http://sitholewb.co.za/FilesAPI/api/Storage/"+e.id+"/view",width:"100%",height:this.state.iFrameHeight,id:"myId",display:"block",allowFullScreen:!0,position:"relative"}))}},{key:"componentDidMount",value:function(){try{this.setState({iFrameHeight:window.innerHeight+"px"})}catch(e){this.setState({iFrameHeight:"400px"})}}}]),t}(a.Component),it=Object(S.a)((function(e){return{root:{flexGrow:1}}}))(ot),st=(n(140),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={nextStartLoadDate:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.bookmarkedPosts.map((function(e){return r.a.createElement("div",{key:"post_view_"+e.id},r.a.createElement(tt,{post:e}))}));return r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20}},"Posts you bookmarked."),r.a.createElement(J.a,null),r.a.createElement("br",null),e,(void 0===this.props.bookmarkedPosts||null===this.props.bookmarkedPosts||0===this.props.bookmarkedPosts.length)&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh",textAlign:"center"}},r.a.createElement("span",null,r.a.createElement("h2",null," Hi there, you have not saved or bookmarked any post yet. "))))}},{key:"componentDidMount",value:function(){}}]),t}(a.Component)),lt=Object(A.b)((function(e){return{bookmarkedPosts:e.bookmarkReducer.bookmarkedPosts}}),(function(e){return{addBookmark:function(t){return e($e(t))},removeBookmark:function(t){return e(Xe(t))},removeAllBookmark:function(){return e({type:"REMOVE_ALL_BOOKMARK"})}}}))(st);var ct=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={selectedId:"",feedbackText:"",isLoading:!1,snackbarText:"",showSnackbar:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;if(!0===this.state.isLoading)return r.a.createElement(le,null);var t=this.props.classes,n=this.props.courses.map((function(n){return r.a.createElement("div",{key:"view_"+n.id},r.a.createElement("span",{key:"span_"+n.id},r.a.createElement(X.a,{className:t.listItem,key:n.id,dense:!0,button:!0},r.a.createElement(ee.a,{id:"text_"+n.id,primary:n.code,secondary:n.name}),r.a.createElement(Z.a,null,r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){e.selectModuleToReport(n.id)}},"Report"))),r.a.createElement(J.a,null),r.a.createElement("br",null)),e.state.selectedId===n.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null),r.a.createElement(me.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Type here...",fullWidth:!0,multiline:!0,rows:"4",margin:"normal",onChange:function(t){return e.onChangeSearchText(t)},value:e.state.feedbackText,InputLabelProps:{shrink:!0}}),r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return e.sendFeedBack(n)}},"Send")))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:"feedback_snackbar",open:this.state.showSnackbar,onClose:function(){e.handleClose()},message:this.state.snackbarText,autoHideDuration:3e3,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{color:"secondary",size:"small",onClick:function(){e.handleClose()}},"DISMISS"),r.a.createElement(ae.a,{"aria-label":"close",color:"inherit",onClick:function(){e.handleClose()}},r.a.createElement(ye.a,null)))}),r.a.createElement("span",{style:{fontWeight:"bold",fontSize:20}}," Your feedback is highly appreciated."),r.a.createElement(J.a,null),r.a.createElement("div",{key:"view_feedback"},r.a.createElement("span",{key:"view_listItem_feedback"},r.a.createElement(X.a,{className:t.listItem,key:"ListItem_feedback"},r.a.createElement(ee.a,{id:"text_ListItem_feedback",primary:"General Feedback/Request",secondary:"General Feedback/Request for this App."}),r.a.createElement(Z.a,null,r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){e.selectModuleToReport("general")}},"Report"))),r.a.createElement(J.a,null),r.a.createElement("br",null)),"general"===this.state.selectedId&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null),r.a.createElement(me.a,{id:"standard-full-width",label:"",style:{margin:8},placeholder:"Type here...",fullWidth:!0,multiline:!0,rows:"4",margin:"normal",onChange:function(t){return e.onChangeSearchText(t)},value:this.state.feedbackText,InputLabelProps:{shrink:!0}}),r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return e.sendFeedBack({code:"General"})}},"Send"))),r.a.createElement($.a,null,n))}},{key:"showSnackbar",value:function(e){this.setState({showSnackbar:!0,snackbarText:e})}},{key:"handleClose",value:function(){this.setState({showSnackbar:!1,snackbarText:""})}},{key:"onChangeSearchText",value:function(e){this.setState({feedbackText:e.target.value})}},{key:"selectModuleToReport",value:function(e){this.setState({selectedId:e,feedbackText:""})}},{key:"sendFeedBack",value:function(e){var t=this;if(this.state.feedbackText.length<4)this.showSnackbar("Input must be at least 4 letters");else{var n={requestType:"Feedback",title:e.code,body:this.state.feedbackText,universityId:this.props.university.id};this.setState({isLoading:!0}),this.props.reportTimetableError(n).then((function(){t.setState({feedbackText:"",isLoading:!1,selectedId:""}),t.showSnackbar("Report/Feedback sent successfully.")}))}}}]),t}(a.Component),ut=Object(A.b)((function(e){return{courses:e.calenderReducer.courses,university:e.calenderReducer.university}}),(function(e){return{reportTimetableError:function(t){return e(function(e){return function(t){return t({type:"POST_FEEDBACK"}),fetch("https://sitholewb.co.za/CoursesAPI/api/StudentRequests",{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t({type:"POST_FEEDBACK_RESPONSE",data:e})})).catch((function(e){t({type:"ERROR_POSTING_FEEDBACK",error:e})}))}}(t))}}}))(Object(S.a)((function(e){return{container:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",flexDirection:"row"},mainContainer:{display:"flex",flexWrap:"nowrap",backgroundColor:"white",flexDirection:"column",alignItems:"stretch"},listItem:{width:"100%",backgroundColor:"#f9ecf2"}}}))(ct)),dt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={value:0,period:{}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"changeValue",value:function(e){this.setState({value:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(O.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:V}),r.a.createElement(p.a,{exact:!0,path:"/PeriodDetails/:id",component:ne}),r.a.createElement(p.a,{exact:!0,path:"/University",component:ue}),r.a.createElement(p.a,{path:"/Campus/:id",component:pe}),r.a.createElement(p.a,{path:"/institutions/:id/type/:routeType",component:ge}),r.a.createElement(p.a,{path:"/Chats",component:ke}),r.a.createElement(p.a,{path:"/Notes",component:Te}),r.a.createElement(p.a,{path:"/Posts/:id/code/:code",component:at}),r.a.createElement(p.a,{path:"/file/:id/view",component:it}),r.a.createElement(p.a,{path:"/Bookmarks",component:lt}),r.a.createElement(p.a,{path:"/Feedback",component:ut}),r.a.createElement(h.a,{showLabels:!0,value:this.state.value,style:{width:"100%",position:"fixed",bottom:0}},r.a.createElement(m.a,{component:O.b,to:"/",label:"Timetable",icon:r.a.createElement(C.a,null),onClick:function(){e.changeValue(0)}}),r.a.createElement(m.a,{component:O.b,to:"/Chats",label:"Chats",icon:r.a.createElement(E.a,null),onClick:function(){e.changeValue(1)}}),r.a.createElement(m.a,{component:O.b,to:"/Notes",label:"Notes",icon:r.a.createElement(b.a,null),onClick:function(){e.changeValue(2)}}),r.a.createElement(m.a,{component:O.b,to:"/Bookmarks",label:"Bookmarks",icon:r.a.createElement(v.a,null),onClick:function(){e.changeValue(3)}})))}}]),t}(a.Component),pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ht(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var mt=n(32),ft=(n(143),n(108)),Et=n(88),yt=n(109),bt=n.n(yt),gt=n(6),vt={timetable:[],courses:[],university:{id:"0000-0000-000000000000",name:"Your Institution",adsDetails:{bannerAd:"ca-app-pub-5631714136940575/3298705317",nativeAdvancedAd:"ca-app-pub-5631714136940575/4838053665"}},campusId:"",mustRefreshCalender:!0,error:"",hasHttpError:!1,isFetching:!1,isSearching:!1,hasErrorSearching:!1,searchResults:[]},kt=function(e,t){var n={isEmptySlot:!0},a=new Array;e.forEach((function(e){a.push(e)}));for(var r=0;r<a.length;r++){if(a[r].monday.periodId===t){a[r].monday=n;break}if(a[r].tuesday.periodId===t){a[r].tuesday=n;break}if(a[r].wednesday.periodId===t){a[r].wednesday=n;break}if(a[r].thursday.periodId===t){a[r].thursday=n;break}if(a[r].friday.periodId===t){a[r].friday=n;break}}return a},Ct=function(e,t,n){var a=new Array;n.forEach((function(e){a.push(e)}));for(var r=0;r<a.length;r++){if((!0===a[r].monday.hasConflict||"true"===a[r].monday.hasConflict)&&Ot(a[r].monday.conflicts,e)){a[r].monday=t;break}if((!0===a[r].tuesday.hasConflict||"true"===a[r].tuesday.hasConflict)&&Ot(a[r].tuesday.conflicts,e)){a[r].tuesday=t;break}if((!0===a[r].wednesday.hasConflict||"true"===a[r].wednesday.hasConflict)&&Ot(a[r].wednesday.conflicts,e)){a[r].wednesday=t;break}if((!0===a[r].thursday.hasConflict||"true"===a[r].thursday.hasConflict)&&Ot(a[r].thursday.conflicts,e)){a[r].thursday=t;break}if((!0===a[r].friday.hasConflict||"true"===a[r].friday.hasConflict)&&Ot(a[r].friday.conflicts,e)){a[r].friday=t;break}}return a},Ot=function(e,t){var n=!1;return e.forEach((function(e){e.periodId===t&&(n=!0)})),n},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_RECEIVING_MODULES":return Object(gt.a)({},e,{error:t.error,hasErrorSearching:!0,isSearching:!1});case"SEARCH_MODULES":return Object(gt.a)({},e,{error:"",hasErrorSearching:!1,isSearching:!0});case"RECEIVE_MODULES":return Object(gt.a)({},e,{error:"",searchResults:t.data,hasErrorSearching:!1,isSearching:!1});case"REQUEST_CALENDER":return Object(gt.a)({},e,{error:"",mustRefreshCalender:!0,hasHttpError:!1,isFetching:!0});case"GET_CALENDER":return Object(gt.a)({},e,{error:"",searchResults:[],mustRefreshCalender:!1,hasHttpError:!1,isFetching:!0});case"RECEIVE_CALENDER":return Object(gt.a)({},e,{error:"",mustRefreshCalender:!1,timetable:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_REQUESTING_CALENDER":return Object(gt.a)({},e,{mustRefreshCalender:!0,error:t.error,hasHttpError:!0,isFetching:!1});case"ADD_MODULE":return Object(gt.a)({},e,{mustRefreshCalender:!0,courses:[].concat(Object(he.a)(e.courses),[t.course])});case"GET_UNREAD_MESSAGES_COUNT":return Object(gt.a)({},e);case"SET_UNIVERSITY":return Object(gt.a)({},e,{university:t.university});case"REMOVE_MODULE":return Object(gt.a)({},e,{mustRefreshCalender:!0,courses:e.courses.filter((function(e){return e.id!==t.courseId}))});case"REMOVE_PERIOD":return Object(gt.a)({},e,{mustRefreshCalender:!1,timetable:kt(e.timetable,t.periodId)});case"RESOLVE_CONFLICT":return Object(gt.a)({},e,{mustRefreshCalender:!1,timetable:Ct(t.periodId,t.course,e.timetable)});default:return e}},Tt={response:"",error:"",isFetching:!1,hasHttpError:!1},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_FEEDBACK":return Object(gt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0});case"POST_FEEDBACK_RESPONSE":return Object(gt.a)({},e,{error:"",response:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_POSTING_FEEDBACK":return Object(gt.a)({},e,{error:t.error,hasHttpError:!0,isFetching:!1});default:return e}},jt={error:"",isFetching:!1,campuses:[]},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CAMPUSES":return Object(gt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0});case"RECEIVE_CAMPUSES":return Object(gt.a)({},e,{error:"",campuses:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_GETTING_CAMPUSES":return Object(gt.a)({},e,{error:t.error,hasHttpError:!0,isFetching:!1});default:return e}},It={error:"",isFetching:!1,universities:[]},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_UNIVERSITIES":return Object(gt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0});case"RECEIVE_UNIVERSITIES":return Object(gt.a)({},e,{error:"",universities:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_GETTING_UNIVERSITIES":return Object(gt.a)({},e,{error:t.error,hasHttpError:!0,isFetching:!1});default:return e}},wt={bookmarkedPosts:[]},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOKMARK":return Object(gt.a)({},e,{bookmarkedPosts:[].concat(Object(he.a)(e.bookmarkedPosts),[t.post])});case"REMOVE_BOOKMARK":return Object(gt.a)({},e,{bookmarkedPosts:e.bookmarkedPosts.filter((function(e){return e.id!==t.postId}))});case"REMOVE_ALL_BOOKMARK":return Object(gt.a)({},e,{bookmarkedPosts:[]});default:return e}},At={response:"",error:"",isFetching:!1,hasHttpError:!1,percent:0},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_FILE":return Object(gt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0});case"UPLOAD_FILE_PROGRESS":return Object(gt.a)({},e,{error:"",hasHttpError:!1,isFetching:!0,percent:t.percent});case"UPLOAD_FILE_RESPONSE":return Object(gt.a)({},e,{error:"",response:t.data,hasHttpError:!1,isFetching:!1});case"ERROR_UPLOADING_FILE":return Object(gt.a)({},e,{error:t.error,hasHttpError:!0,isFetching:!1});default:return e}},Ft={comments:[],response:"",error:"",isFetchingComments:!1,hasHttpErrorFetchingComments:!1,likeCommentPendingResponse:!1,hasHttpErrorLikingComment:!1,postCommentPending:!1,hasHttpErrorPostingComment:!1},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_COMMENT":return Object(gt.a)({},e,{error:"",hasHttpErrorPostingComment:!1,postCommentPending:!0});case"POST_COMMENT_RESPONSE":return Object(gt.a)({},e,{error:"",response:t.data,hasHttpErrorPostingComment:!1,postCommentPending:!1});case"ERROR_POSTING_COMMENT":return Object(gt.a)({},e,{error:t.error,hasHttpErrorPostingComment:!0,postCommentPending:!1});case"GET_COMMENTS":return Object(gt.a)({},e,{error:"",hasHttpErrorFetchingComments:!1,isFetchingComments:!0});case"RECEIVE_COMMENTS":return Object(gt.a)({},e,{error:"",comments:t.data,hasHttpErrorFetchingComments:!1,isFetchingComments:!1});case"ERROR_RECEIVING_COMMENTS":return Object(gt.a)({},e,{error:t.error,hasHttpErrorFetchingComments:!0,isFetchingComments:!1});case"LIKE_COMMENT":return Object(gt.a)({},e,{error:"",hasHttpErrorLikingComment:!1,likeCommentPendingResponse:!0});case"LIKE_COMMENT_RESPONSE":return Object(gt.a)({},e,{error:"",hasHttpErrorLikingComment:!1,likeCommentPendingResponse:!1});case"ERROR_LIKING_COMMENT":return Object(gt.a)({},e,{error:t.error,hasHttpErrorLikingComment:!0,likeCommentPendingResponse:!1});default:return e}},Dt={posts:[],response:"",error:"",isFetchingPosts:!1,hasHttpErrorFetchingPosts:!1,likePostPendingResponse:!1,hasHttpErrorLikingPost:!1,addPostPending:!1,hasHttpErrorAddingPost:!1,categoryId:""},Lt=function(e,t){return e.length>0&&t.length>0?e[0].categoryId===t[0].categoryId?[].concat(Object(he.a)(e),Object(he.a)(t)):Object(he.a)(t):t.length>0?Object(he.a)(t):Object(he.a)(e)},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(gt.a)({},e,{error:"",hasHttpErrorAddingPost:!1,addPostPending:!0});case"ADD_POST_RESPONSE":return Object(gt.a)({},e,{error:"",posts:[t.data].concat(Object(he.a)(e.posts)),hasHttpErrorAddingPost:!1,addPostPending:!1});case"ERROR_ADDING_POST":return Object(gt.a)({},e,{error:t.error,hasHttpErrorAddingPost:!0,addPostPending:!1});case"GET_POSTS":return Object(gt.a)({},e,{error:"",hasHttpErrorFetchingPosts:!1,isFetchingPosts:!0,categoryId:t.categoryId});case"RESET_POSTS":return Object(gt.a)({},e,{error:"",posts:[]});case"RECEIVE_POSTS":return Object(gt.a)({},e,{error:"",posts:Lt(e.posts,t.data),hasHttpErrorFetchingPosts:!1,isFetchingPosts:!1});case"ERROR_RECEIVING_POSTS":return Object(gt.a)({},e,{error:t.error,hasHttpErrorFetchingPosts:!0,isFetchingPosts:!1});case"LIKE_POST":return Object(gt.a)({},e,{error:"",hasHttpErrorLikingPost:!1,likePostPendingResponse:!0});case"LIKE_POST_RESPONSE":return Object(gt.a)({},e,{error:"",response:t.data,hasHttpErrorLikingPost:!1,likePostPendingResponse:!1});case"ERROR_LIKING_POST":return Object(gt.a)({},e,{error:t.error,hasHttpErrorLikingPost:!0,likePostPendingResponse:!1});default:return e}},Ut={notes:[]},Gt=function(e,t){var n=[];return e.forEach((function(e){e.id===t.id?n.push(t):n.push(e)})),n},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE":return Object(gt.a)({},e,{notes:[].concat(Object(he.a)(e.notes),[t.data])});case"UPDATE_NOTE":return Object(gt.a)({},e,{notes:Gt(e.notes,t.data)});case"REMOVE_NOTE":return Object(gt.a)({},e,{notes:e.notes.filter((function(e){return e.id!==t.noteId}))});default:return e}},Vt={user:{fullnames:"Anonymous User",userId:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))+"_random"}},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_UPDATE_USER":return Object(gt.a)({},e,{user:t.user});default:return e}},Wt=Object(mt.c)({calenderReducer:St,feedbackReducer:Rt,campusesReducer:Pt,universitiesReducer:xt,bookmarkReducer:_t,uploadReducer:Nt,commentReducer:Mt,noteReducer:Ht,postReducer:Bt,userReducer:zt}),Kt={key:"root",storage:bt.a,whitelist:["calenderReducer","bookmarkReducer","noteReducer","userReducer"],blacklist:["feedbackReducer","campusesReducer","universitiesReducer","commentReducer","postReducer"]},Jt=Object(Et.a)(Kt,Wt),qt=Object(mt.d)(Jt,Object(mt.a)(ft.a)),Yt=Object(Et.b)(qt),Qt=n(110);i.a.render(r.a.createElement(A.a,{store:qt},r.a.createElement(Qt.a,{loading:null,persistor:Yt},r.a.createElement(dt,null),r.a.createElement("span",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sc",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sc","/service-worker.js");pt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ht(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ht(t,e)}))}}()}},[[122,1,2]]]);
//# sourceMappingURL=main.0140f62f.chunk.js.map